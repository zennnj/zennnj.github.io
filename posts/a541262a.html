<!DOCTYPE html>
<html lang="zh-CN">
    <!-- title -->
<!-- keywords -->
<head><!-- hexo injector head_begin start --><link href="https://fastly.jsdelivr.net/npm/hexo-tag-common@0.2.0/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="">
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    <meta name="description" content="">
    <meta name="description" content="å½’æ¥ï¼">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot">
<meta property="og:url" content="http://example.com/posts/a541262a.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="å½’æ¥ï¼">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/SSM/1.png">
<meta property="og:image" content="http://example.com/images/SSM/2.png">
<meta property="og:image" content="http://example.com/images/SSM/3.png">
<meta property="og:image" content="http://example.com/images/SSM/4.png">
<meta property="og:image" content="http://example.com/images/SSM/5.png">
<meta property="og:image" content="d:\blog\source\images\SSM\6.png">
<meta property="og:image" content="d:\blog\source\images\SSM\7.png">
<meta property="article:published_time" content="2024-11-10T06:03:39.000Z">
<meta property="article:modified_time" content="2025-12-03T08:03:22.409Z">
<meta property="article:tag" content="learn">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/SSM/1.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/my.ico">
    <title>Spring Boot Â· Terminal 4</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .footer-fixed-btn,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(
            -45deg,
            #444 0,
            #444 80px,
            #333 80px,
            #333 160px
        );
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link id="stylesheet-fancybox" rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link id="stylesheet-base" rel="preload" href="/css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link id="stylesheet-mobile" rel="preload" href="/css/mobile.css" as="style" onload="this.onload=null;this.rel='stylesheet';this.media='screen and (max-width: 960px)'">
    <link id="stylesheet-theme-dark" rel="preload" href="/css/dark.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    <!-- ç™¾åº¦ç»Ÿè®¡  -->
    <!-- è°·æ­Œç»Ÿè®¡  -->
    <!-- Google tag (gtag.js) -->
<style type="text/css">
.spoiler {
  display: inline;
}
p.spoiler {
  display: flex;
}
.spoiler a {
  pointer-events: none;
}
.spoiler-blur, .spoiler-blur > * {
  transition: text-shadow .5s ease;
}
.spoiler .spoiler-blur, .spoiler .spoiler-blur > * {
  color: rgba(0, 0, 0, 0);
  background-color: rgba(0, 0, 0, 0);
  text-shadow: 0 0 10px grey;
  cursor: pointer;
}
.spoiler .spoiler-blur:hover, .spoiler .spoiler-blur:hover > * {
  text-shadow: 0 0 5px grey;
}
.spoiler-box, .spoiler-box > * {
  transition: color .5s ease,
  background-color .5s ease;
}
.spoiler .spoiler-box, .spoiler .spoiler-box > * {
  color: black;
  background-color: black;
  text-shadow: none;
}</style><meta name="generator" content="Hexo 7.3.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
        <body class="post-body">
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        <div class="header-sidebar-menu">
            <div style="padding-left: 1px;">&#xe775;</div>
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href="/">Terminal 4.</a>
        </span>
    </div>
    <!-- toggle banner -->
    <div class="banner">
        <div class="blog-title header-element">
            <a href="/">Terminal 4.</a>
        </div>
        <div class="post-title header-element">
            <a href="#" class="post-name">Spring Boot</a>
        </div>
    </div>
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- donate button -->
    <div class="donate-popup donate-popup--hidden">
    <div class="donate-popup__title">Buy Me A Milktea!</div>
    <div class="donate-popup__content">
        <div class="donate-popup__content-description">If this post helped you, please consider buying the author a cup of milktea ğŸ¥¤!(Actually,I prefer fruit tea.ğŸ¥³)</div>
        <img
            class="donate-popup__content-qrCode"
            title="Wechat"
            alt="Wechat"
            src="/assets/donate-wechat.png"
        ></img>
        <img
            class="donate-popup__content-qrCode"
            title="Alipay"
            alt="Alipay"
            src="/assets/donate-alipay.jpg"
        ></img>
    </div>
</div>

    <div
        title="Donate to the author"
        class="footer-fixed-btn footer-fixed-btn--hidden donate-btn"
    >
        <i class="fas fa-donate"></i>
    </div>

    <!-- back to top button -->
    <div class="footer-fixed-btn footer-fixed-btn--hidden back-top">
        <div>&#xe639;</div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="    height:50vh;
">
    <!-- ä¸»é¡µ  -->
    <!-- 404é¡µ  -->
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- æ ‡é¢˜  -->
        <h1 class="intro-title">
            <!-- ä¸»é¡µ  -->
                Spring Boot
            <!-- 404 -->
        </h1>
        <!-- å‰¯æ ‡é¢˜ -->
        <p class="intro-subtitle">
            <!-- ä¸»é¡µå‰¯æ ‡é¢˜  -->
            <!-- 404 -->
        </p>
        <!-- æ–‡ç« é¡µ meta -->
            <div class="post-intros">
                <!-- æ–‡ç« é¡µæ ‡ç­¾  -->
                    <div class="post-intro-tags" >
        <a class="post-tag" href="javascript:void(0);" data-tags="learn">learn</a>
</div>

                <!-- æ–‡ç« å­—æ•°ç»Ÿè®¡ -->
                <div class="post-intro-meta">
                    <!-- æ’°å†™æ—¥æœŸ -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2024/11/10</span>
                    <!-- busuanzi -->
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    <!-- æ–‡ç« åˆ†äº« -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IEå†…æ ¸
      presto: u.indexOf('Presto') > -1, //operaå†…æ ¸
      webKit: u.indexOf('AppleWebKit') > -1, //è‹¹æœã€è°·æ­Œå†…æ ¸
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //ç«ç‹å†…æ ¸
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //æ˜¯å¦ä¸ºç§»åŠ¨ç»ˆç«¯
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //iosç»ˆç«¯
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //androidç»ˆç«¯æˆ–è€…ucæµè§ˆå™¨
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //æ˜¯å¦ä¸ºiPhoneæˆ–è€…å®‰å“QQæµè§ˆå™¨
      iPad: u.indexOf('iPad') > -1, //æ˜¯å¦ä¸ºiPad
      webApp: u.indexOf('Safari') == -1, //æ˜¯å¦ä¸ºwebåº”ç”¨ç¨‹åºï¼Œæ²¡æœ‰å¤´éƒ¨ä¸åº•éƒ¨
      weixin: u.indexOf('MicroMessenger') == -1, //æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨
      uc: u.indexOf('UCBrowser') > -1, //æ˜¯å¦ä¸ºandroidä¸‹çš„UCæµè§ˆå™¨
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UCä¸æ”¯æŒè·¨åŸŸï¼Œæ‰€ä»¥ç›´æ¥æ˜¾ç¤º
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // æ‰€æœ‰å­—ä½“å¼€å§‹åŠ è½½
          // console.log('font loading');
        },
        active: function () {
          // æ‰€æœ‰å­—ä½“å·²æ¸²æŸ“
          fontLoaded()
        },
        inactive: function () {
          // å­—ä½“é¢„åŠ è½½å¤±è´¥ï¼Œæ— æ•ˆå­—ä½“æˆ–æµè§ˆå™¨ä¸æ”¯æŒåŠ è½½
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" alt="loading">
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>å½’æ¥ï¼<br><span id="more"></span></p>
<h1 id="Spring-Framworkç³»ç»Ÿæ¶æ„"><a href="#Spring-Framworkç³»ç»Ÿæ¶æ„" class="headerlink" title="Spring Framworkç³»ç»Ÿæ¶æ„"></a>Spring Framworkç³»ç»Ÿæ¶æ„</h1><p><img src="../images/SSM/1.png" alt=""></p>
<h1 id="MAVEN"><a href="#MAVEN" class="headerlink" title="MAVEN"></a>MAVEN</h1><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>æ·»åŠ ç¯å¢ƒé…ç½®<br>åˆ›å»ºä»“åº“<br>é…ç½®IntelliJ IDEAä¸­mavené…ç½®<br>moduleé€‰æ‹©maven</p>
<h2 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h2><h3 id="ä¾èµ–é…ç½®"><a href="#ä¾èµ–é…ç½®" class="headerlink" title="ä¾èµ–é…ç½®"></a>ä¾èµ–é…ç½®</h3><p>mavenä»“åº“ä¾èµ–:<a target="_blank" rel="noopener" href="https://mvnrepository.com">https://mvnrepository.com</a><br>æ‰¾åˆ°dependency(åæ ‡) åŠ å…¥pom.xml</p>
<h3 id="ä¾èµ–ä¼ é€’"><a href="#ä¾èµ–ä¼ é€’" class="headerlink" title="ä¾èµ–ä¼ é€’"></a>ä¾èµ–ä¼ é€’</h3><p>é—´æ¥ä¾èµ–ä¹Ÿå¯ä»¥ä¼ é€’åˆ°<br><img src="../images/SSM/2.png" alt=""><br>æ’é™¤ä¾èµ–<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--æ’é™¤ä¾èµ–--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="ä¾èµ–èŒƒå›´"><a href="#ä¾èµ–èŒƒå›´" class="headerlink" title="ä¾èµ–èŒƒå›´"></a>ä¾èµ–èŒƒå›´</h3><p>é€šè¿‡ <code>&lt;scope&gt;...&lt;/scope&gt;</code> è®¾ç½®ä½œç”¨èŒƒå›´</p>
<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><ul>
<li>cleanï¼šæ¸…ç†å·¥ä½œ</li>
<li>defaultï¼šæ ¸å¿ƒå·¥ä½œï¼ˆç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€å®‰è£…ã€éƒ¨ç½²ç­‰ï¼‰<ul>
<li><code>COMPILE</code> <code>TEST</code> <code>PACKAGE</code> <code>INSTALL</code>Â·Â·Â·</li>
</ul>
</li>
<li>siteï¼šç”ŸæˆæŠ¥å‘Šã€å‘å¸ƒç«™ç‚¹ç­‰ã€‚</li>
</ul>
<p>åœ¨<strong>åŒä¸€å¥—å£°æ˜å‘¨æœŸä¸­</strong>ï¼Œå½“è¿è¡Œåé¢é˜¶æ®µæ—¶ï¼Œå‰é¢çš„é˜¶æ®µä¹Ÿä¼šè¢«è¿è¡Œ<br>æ‰§è¡Œï¼šç›´æ¥åŒå‡»æˆ–åœ¨ç»ˆç«¯ä¸­<code>mvn command</code></p>
<h1 id="HTTPè¯·æ±‚å“åº”"><a href="#HTTPè¯·æ±‚å“åº”" class="headerlink" title="HTTPè¯·æ±‚å“åº”"></a><a target="_blank" rel="noopener" href="https://zennnj.github.io/posts/28758.html">HTTPè¯·æ±‚å“åº”</a></h1><h2 id="åˆ›å»ºspringboot"><a href="#åˆ›å»ºspringboot" class="headerlink" title="åˆ›å»ºspringboot"></a>åˆ›å»ºspringboot</h2><p>æ–°å»ºé¡¹ç›®é€‰æ‹©springbootï¼Œå‹¾é€‰spring webè¿™ä¸ªä¾èµ–<br>åˆ›å»ºè¯·æ±‚å¤„ç†ç±»HelloControllerï¼Œæ·»åŠ è¯·æ±‚å¤„ç†æ–¹æ³•helloï¼Œè¿è¡Œå¯åŠ¨ç±»<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯·æ±‚å¤„ç†ç±»</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello?&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æµè§ˆå™¨ï¼š</p>
<ul>
<li>è¾“å…¥ç½‘å€ï¼š<code>http://192.168.100.11:8080/hello</code><ul>
<li>é€šè¿‡IPåœ°å€192.168.100.11å®šä½åˆ°ç½‘ç»œä¸Šçš„ä¸€å°è®¡ç®—æœº</li>
<li>é€šè¿‡ç«¯å£å·8080æ‰¾åˆ°è®¡ç®—æœºä¸Šè¿è¡Œçš„ç¨‹åº<blockquote>
<p><code>localhost:8080</code>  , æ„æ€æ˜¯åœ¨æœ¬åœ°è®¡ç®—æœºä¸­æ‰¾åˆ°æ­£åœ¨è¿è¡Œçš„8080ç«¯å£çš„ç¨‹åº</p>
</blockquote>
</li>
<li>/helloæ˜¯è¯·æ±‚èµ„æºä½ç½®<ul>
<li>èµ„æºï¼šå¯¹è®¡ç®—æœºè€Œè¨€èµ„æºå°±æ˜¯æ•°æ®<ul>
<li>webèµ„æºï¼šé€šè¿‡ç½‘ç»œå¯ä»¥è®¿é—®åˆ°çš„èµ„æºï¼ˆé€šå¸¸æ˜¯æŒ‡å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼‰<blockquote>
<p><code>localhost:8080/hello</code> ï¼Œæ„æ€æ˜¯å‘æœ¬åœ°è®¡ç®—æœºä¸­çš„8080ç«¯å£ç¨‹åºï¼Œè·å–èµ„æºä½ç½®æ˜¯/helloçš„æ•°æ®</p>
<ul>
<li>8080ç«¯å£ç¨‹åºï¼Œåœ¨æœåŠ¡å™¨æ‰¾/helloä½ç½®çš„èµ„æºæ•°æ®ï¼Œå‘ç»™æµè§ˆå™¨</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>æœåŠ¡å™¨ï¼šï¼ˆå¯ä»¥ç†è§£ä¸ºServerSocketï¼‰</p>
<ul>
<li>æ¥æ”¶åˆ°æµè§ˆå™¨å‘é€çš„ä¿¡æ¯ï¼ˆå¦‚ï¼š/helloï¼‰</li>
<li>åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°/helloçš„èµ„æº</li>
<li>æŠŠèµ„æºå‘é€ç»™æµè§ˆå™¨</li>
</ul>
<h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h1><p>=servletå®¹å™¨<br><img src="../images/SSM/3.png" alt=""></p>
<h1 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h1><ul>
<li><p>Postmanæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘é¡µè°ƒè¯•ä¸å‘é€ç½‘é¡µHTTPè¯·æ±‚çš„Chromeæ’ä»¶ã€‚</p>
<blockquote>
<p>PostmanåŸæ˜¯Chromeæµè§ˆå™¨çš„æ’ä»¶ï¼Œå¯ä»¥æ¨¡æ‹Ÿæµè§ˆå™¨å‘åç«¯æœåŠ¡å™¨å‘èµ·ä»»ä½•å½¢å¼(å¦‚:getã€post)çš„HTTPè¯·æ±‚<br>ä½¿ç”¨Postmanè¿˜å¯ä»¥åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œæºå¸¦ä¸€äº›è¯·æ±‚å‚æ•°ã€è¯·æ±‚å¤´ç­‰ä¿¡æ¯</p>
</blockquote>
</li>
<li><p>ä½œç”¨ï¼šå¸¸ç”¨äºè¿›è¡Œæ¥å£æµ‹è¯•</p>
</li>
</ul>
<h1 id="è¯·æ±‚å“åº”"><a href="#è¯·æ±‚å“åº”" class="headerlink" title="è¯·æ±‚å“åº”"></a>è¯·æ±‚å“åº”</h1><h2 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h2><p><strong>åŸå§‹æ–¹å¼</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">  <span class="comment">//åŸå§‹æ–¹å¼</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">      <span class="comment">// http://localhost:8080/simpleParam?name=Tom&amp;age=10  </span></span><br><span class="line">        <span class="comment">// è¯·æ±‚å‚æ•°ï¼š name=Tom&amp;age=10   ï¼ˆæœ‰2ä¸ªè¯·æ±‚å‚æ•°ï¼‰</span></span><br><span class="line">        <span class="comment">// ç¬¬1ä¸ªè¯·æ±‚å‚æ•°ï¼š name=Tom   å‚æ•°å:nameï¼Œå‚æ•°å€¼:Tom</span></span><br><span class="line">        <span class="comment">// ç¬¬2ä¸ªè¯·æ±‚å‚æ•°ï¼š age=10     å‚æ•°å:age , å‚æ•°å€¼:10</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;name&quot;</span>);<span class="comment">//nameå°±æ˜¯è¯·æ±‚å‚æ•°å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">ageStr</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;age&quot;</span>);<span class="comment">//ageå°±æ˜¯è¯·æ±‚å‚æ•°å</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> Integer.parseInt(ageStr);<span class="comment">//éœ€è¦æ‰‹åŠ¨è¿›è¡Œç±»å‹è½¬æ¢</span></span><br><span class="line">        System.out.println(name+<span class="string">&quot;  :  &quot;</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>SpringBootæ–¹å¼</strong><br>åœ¨Springbootçš„ç¯å¢ƒä¸­ï¼Œå¯¹åŸå§‹çš„APIè¿›è¡Œäº†å°è£…ï¼Œæ¥æ”¶å‚æ•°çš„å½¢å¼æ›´åŠ ç®€å•ã€‚ å¦‚æœæ˜¯ç®€å•å‚æ•°ï¼Œå‚æ•°åä¸å½¢å‚å˜é‡åç›¸åŒï¼Œå®šä¹‰åŒåçš„å½¢å‚å³å¯æ¥æ”¶å‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//springbootæ–¹å¼</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(String name , Integer age )</span>&#123;<span class="comment">//å½¢å‚åå’Œè¯·æ±‚å‚æ•°åä¿æŒä¸€è‡´</span></span><br><span class="line">        System.out.println(name+<span class="string">&quot;  :  &quot;</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‚æ•°åä¸ä¸€è‡´"><a href="#å‚æ•°åä¸ä¸€è‡´" class="headerlink" title="å‚æ•°åä¸ä¸€è‡´"></a>å‚æ•°åä¸ä¸€è‡´</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(<span class="meta">@RequestParam(name = &quot;name&quot;, required = false)</span> String username, Integer age)</span>&#123;</span><br><span class="line">  System.out.println(username+ <span class="string">&quot;:&quot;</span> + age);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<p>@RequestParamä¸­çš„requiredå±æ€§é»˜è®¤ä¸ºtrueï¼ˆé»˜è®¤å€¼ä¹Ÿæ˜¯trueï¼‰ï¼Œä»£è¡¨è¯¥è¯·æ±‚å‚æ•°å¿…é¡»ä¼ é€’ï¼Œå¦‚æœä¸ä¼ é€’å°†æŠ¥é”™</p>
</blockquote>
<h3 id="ä¸ºä»€ä¹ˆåœ¨controllé‡Œæ¨èä½¿ç”¨åŒ…è£…ç±»å‹-Integerã€Longâ€¦-ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆåœ¨controllé‡Œæ¨èä½¿ç”¨åŒ…è£…ç±»å‹-Integerã€Longâ€¦-ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆåœ¨controllé‡Œæ¨èä½¿ç”¨åŒ…è£…ç±»å‹(Integerã€Longâ€¦)ï¼Ÿ"></a>ä¸ºä»€ä¹ˆåœ¨controllé‡Œæ¨èä½¿ç”¨åŒ…è£…ç±»å‹(Integerã€Longâ€¦)ï¼Ÿ</h3><p>è¿™æ˜¯ <strong>Spring æ¡†æ¶è®¾è®¡çš„æ¨èæ¨¡å¼</strong>ï¼Œå› ä¸ºï¼š</p>
<ul>
<li>Web è¯·æ±‚çš„å‚æ•°ä¸æ˜¯å¼ºç±»å‹çš„ï¼ˆå­—ç¬¦ä¸²ä¼ è¾“ã€å¯èƒ½ä¸ºç©ºï¼‰ï¼›</li>
<li>è¯·æ±‚å‚æ•°ç¼ºå¤±ã€ç©ºå€¼ã€ç±»å‹ä¸åŒ¹é…ç­‰æƒ…å†µå¾ˆå¸¸è§ï¼›</li>
<li>ä½¿ç”¨åŒ…è£…ç±»å‹å¯ä»¥å®‰å…¨åœ°åˆ¤ç©ºï¼›</li>
<li>å¯ä»¥æ­é… <code>@RequestParam(required = false)</code> è®©å‚æ•°æˆä¸ºå¯é€‰é¡¹ã€‚</li>
</ul>
<p><strong>âš ï¸ å¦‚æœä½ å†™çš„æ˜¯ <code>int status</code></strong></p>
<ul>
<li>Java åŸºæœ¬ç±»å‹ <code>int</code> <strong>ä¸å…è®¸ä¸º null</strong>ï¼›</li>
<li>Spring åœ¨æ•°æ®ç»‘å®šé˜¶æ®µä¼šå°è¯•æŠŠè¯·æ±‚å‚æ•°è½¬æ¢ä¸º <code>int</code>ï¼›<ul>
<li>è‹¥æˆåŠŸï¼šä¼ å€¼ï¼›</li>
<li>è‹¥å¤±è´¥ï¼ˆæ¯”å¦‚å‚æ•°ç¼ºå¤±æˆ–æ— æ³•è½¬æ¢ï¼‰ï¼šSpring ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼ˆ<code>HttpMessageNotReadableException</code> æˆ– <code>TypeMismatchException</code>ï¼‰ï¼›</li>
</ul>
</li>
<li>æ•´ä¸ªæ¥å£ç›´æ¥æŠ¥ 400 Bad Requestï¼Œæ²¡æ³•åš<em>ä¼˜é›…</em>å¤„ç†ã€‚</li>
</ul>
<h3 id="å®ä½“å‚æ•°"><a href="#å®ä½“å‚æ•°" class="headerlink" title="å®ä½“å‚æ•°"></a>å®ä½“å‚æ•°</h3><p>è¦æƒ³å®Œæˆæ•°æ®å°è£…ï¼Œéœ€è¦éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼š<strong>è¯·æ±‚å‚æ•°åä¸å®ä½“ç±»çš„å±æ€§åç›¸åŒ</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/simplePojo&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">simplePojo</span><span class="params">(User user)</span>&#123;</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ•°ç»„é›†åˆå‚æ•°</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/arrayParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">arrayParam</span><span class="params">(String[] hobby)</span>&#123;</span><br><span class="line">    System.out.println(Arrays.toString(hobby));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯·æ±‚ä¸­å‚æ•°åç›¸åŒçš„å¤šä¸ªå€¼ï¼Œæ˜¯å°è£…åˆ°æ•°ç»„ã€‚å¦‚æœè¦å°è£…åˆ°é›†åˆï¼Œè¦ä½¿ç”¨@RequestParamç»‘å®šå‚æ•°å…³ç³»</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/listParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">listParam</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;String&gt; hobby)</span>&#123;</span><br><span class="line">    System.out.println(hobby);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ—¥æœŸæ—¶é—´å‚æ•°</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dateParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">dateParam</span><span class="params">(<span class="meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span> LocalDateTime updateTime)</span>&#123;</span><br><span class="line">    System.out.println(updateTime);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.springbootquickstart.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>getå’Œsetæ–¹æ³•å¿…é¡»è®¾ç½®</strong>ï¼Œå¦‚æœä¸è®¾ç½®æ‹¿ä¸åˆ°å¯¹åº”å‚æ•°è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User&#123;name=&#x27;null&#x27;, age=0&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•°ç»„é›†åˆPostmanæµ‹è¯•ï¼š</strong><br>åœ¨å‰ç«¯è¯·æ±‚æ—¶ï¼Œæœ‰ä¸¤ç§ä¼ é€’å½¢å¼ï¼š<br>æ–¹å¼ä¸€ï¼š xxxxxxxxxx?hobby=game&amp;hobby=java<br>æ–¹å¼äºŒï¼šxxxxxxxxxxxxx?hobby=game,java</p>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯·æ±‚ä¸­å‚æ•°åç›¸åŒçš„å¤šä¸ªå€¼ï¼Œæ˜¯å°è£…åˆ°æ•°ç»„ã€‚å¦‚æœè¦å°è£…åˆ°é›†åˆï¼Œè¦ä½¿ç”¨@RequestParamç»‘å®šå‚æ•°å…³ç³»!!!!!</p>
</blockquote>
<h3 id="å¤æ‚å®ä½“"><a href="#å¤æ‚å®ä½“" class="headerlink" title="å¤æ‚å®ä½“"></a>å¤æ‚å®ä½“</h3><p>å¤æ‚å®ä½“å¯¹è±¡çš„å°è£…ï¼Œéœ€è¦éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li><strong>è¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼ŒæŒ‰ç…§å¯¹è±¡å±‚æ¬¡ç»“æ„å…³ç³»å³å¯æ¥æ”¶åµŒå¥—å®ä½“ç±»å±æ€§å‚æ•°ã€‚</strong><br><img src="../images/SSM/4.png" alt=""></li>
</ul>
<h3 id="JSONå‚æ•°"><a href="#JSONå‚æ•°" class="headerlink" title="JSONå‚æ•°"></a>JSONå‚æ•°</h3><ul>
<li>@RequestBodyæ³¨è§£ï¼šå°†JSONæ•°æ®æ˜ å°„åˆ°å½¢å‚çš„å®ä½“ç±»å¯¹è±¡ä¸­<strong>ï¼ˆJSONä¸­çš„keyå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¿æŒä¸€è‡´ï¼‰</strong></li>
</ul>
<p>å®ä½“ç±»ï¼šAddress</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String province;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//çœç•¥GET , SET æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ä½“ç±»ï¼šUser</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//çœç•¥GET , SET æ–¹æ³•</span></span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>
<p>Controlleræ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//JSONå‚æ•°</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/jsonParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">jsonParam</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>postmanæ¥å£æµ‹è¯•ï¼š<br><img src="../images/SSM/5.png" alt=""></p>
<h4 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h4><p>å½“å‰ç«¯æäº¤çš„æ•°æ®å’Œå®ä½“ç±»ä¸­å¯¹åº”çš„å±æ€§å·®åˆ«æ¯”è¾ƒå¤§æ—¶ï¼Œå»ºè®®ä½¿ç”¨DTOæ¥å°è£…æ•°æ®</p>
<h4 id="æ‹·è´å±æ€§"><a href="#æ‹·è´å±æ€§" class="headerlink" title="æ‹·è´å±æ€§"></a>æ‹·è´å±æ€§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BeanUtils.copyProperties(employeeDTO, employee);</span><br></pre></td></tr></table></figure>
<p>å‰ææ˜¯å±æ€§åä¸€è‡´</p>
<h3 id="è·¯å¾„å‚æ•°"><a href="#è·¯å¾„å‚æ•°" class="headerlink" title="è·¯å¾„å‚æ•°"></a>è·¯å¾„å‚æ•°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//è·¯å¾„å‚æ•°</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/path/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pathParam</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span>&#123;</span><br><span class="line">        System.out.println(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    <span class="comment">//ä¼ é€’å¤šä¸ªè·¯å¾„å‚æ•°ï¼š</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/path/&#123;id&#125;/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pathParam2</span><span class="params">(<span class="meta">@PathVariable</span> Integer id, <span class="meta">@PathVariable</span> String name)</span>&#123;</span><br><span class="line">        System.out.println(id+ <span class="string">&quot; : &quot;</span> +name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h2><h3 id="ç»Ÿä¸€å“åº”ç»“æœ"><a href="#ç»Ÿä¸€å“åº”ç»“æœ" class="headerlink" title="ç»Ÿä¸€å“åº”ç»“æœ"></a>ç»Ÿä¸€å“åº”ç»“æœ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResponseController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World ~&quot;</span>);</span><br><span class="line">        <span class="comment">//return new Result(1,&quot;success&quot;,&quot;Hello World ~&quot;);</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;Hello World ~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getAddr&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">getAddr</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr.setProvince(<span class="string">&quot;å¹¿ä¸œ&quot;</span>);</span><br><span class="line">        addr.setCity(<span class="string">&quot;æ·±åœ³&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Result.success(addr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listAddr&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listAddr</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Address&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr.setProvince(<span class="string">&quot;å¹¿ä¸œ&quot;</span>);</span><br><span class="line">        addr.setCity(<span class="string">&quot;æ·±åœ³&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr2.setProvince(<span class="string">&quot;é™•è¥¿&quot;</span>);</span><br><span class="line">        addr2.setCity(<span class="string">&quot;è¥¿å®‰&quot;</span>);</span><br><span class="line"></span><br><span class="line">        list.add(addr);</span><br><span class="line">        list.add(addr2);</span><br><span class="line">        <span class="keyword">return</span> Result.success(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.springbootquickstart.pojo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»Ÿä¸€å“åº”ç»“æœå°è£…ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code ;<span class="comment">//1 æˆåŠŸ , 0 å¤±è´¥</span></span><br><span class="line">    <span class="keyword">private</span> String msg; <span class="comment">//æç¤ºä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> Object data; <span class="comment">//æ•°æ® date</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Result</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Result</span><span class="params">(Integer code, String msg, Object data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(Integer code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setData</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">(Object data)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>, <span class="string">&quot;success&quot;</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>, <span class="string">&quot;success&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">0</span>, msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Result&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;code=&quot;</span> + code +</span><br><span class="line">                <span class="string">&quot;, msg=&#x27;&quot;</span> + msg + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, data=&quot;</span> + data +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h2><p>åœ¨Springå½“ä¸­ä¸ºäº†ç®€åŒ–è¯·æ±‚è·¯å¾„çš„å®šä¹‰ï¼Œå¯ä»¥æŠŠå…¬å…±çš„è¯·æ±‚è·¯å¾„ï¼Œç›´æ¥æŠ½å–åˆ°ç±»ä¸Šï¼Œåœ¨ç±»ä¸ŠåŠ ä¸€ä¸ªæ³¨è§£@RequestMappingï¼Œå¹¶æŒ‡å®šè¯·æ±‚è·¯å¾„â€/deptsâ€ã€‚</p>
<blockquote>
<p>æ³¨æ„äº‹é¡¹ï¼šä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è·¯å¾„ï¼Œåº”è¯¥æ˜¯ç±»ä¸Š@RequestMappingçš„valueå±æ€§ + æ–¹æ³•ä¸Šçš„ @RequestMappingçš„valueå±æ€§</p>
</blockquote>
<h1 id="åˆ†å±‚è§£è€¦"><a href="#åˆ†å±‚è§£è€¦" class="headerlink" title="åˆ†å±‚è§£è€¦"></a>åˆ†å±‚è§£è€¦</h1><h2 id="ä¸‰å±‚æ¶æ„"><a href="#ä¸‰å±‚æ¶æ„" class="headerlink" title="ä¸‰å±‚æ¶æ„"></a>ä¸‰å±‚æ¶æ„</h2><ul>
<li>Controllerï¼šæ§åˆ¶å±‚ã€‚æ¥æ”¶å‰ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå¹¶å“åº”æ•°æ®ã€‚</li>
<li>Serviceï¼šä¸šåŠ¡é€»è¾‘å±‚ã€‚å¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>Daoï¼šæ•°æ®è®¿é—®å±‚(Data Access Object)ï¼Œä¹Ÿç§°ä¸ºæŒä¹…å±‚ã€‚è´Ÿè´£æ•°æ®è®¿é—®æ“ä½œï¼ŒåŒ…æ‹¬æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚</li>
</ul>
<h2 id="å……åˆ†è§£è€¦"><a href="#å……åˆ†è§£è€¦" class="headerlink" title="å……åˆ†è§£è€¦"></a>å……åˆ†è§£è€¦</h2><p>ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œåœ¨ç¨‹åºä¸­ä¸è¦ä¸»åŠ¨ä½¿ç”¨newäº§ç”Ÿå¯¹è±¡ï¼Œè½¬æ¢ä¸ºä¸­å¤–éƒ¨æä¾›å¯¹è±¡</p>
<ul>
<li><strong>IoC(Inversion of Control)æ§åˆ¶åè½¬</strong><ul>
<li><strong>å¯¹è±¡çš„åˆ›å»ºæ§åˆ¶æƒç”±ç¨‹åºè½¬ç§»åˆ°å¤–éƒ¨</strong> (æ¯”å¦‚JButton)</li>
<li>Springæä¾›äº†ä¸€ä¸ª<strong>IoCå®¹å™¨</strong>ï¼Œç”¨æ¥å……å½“IoCæ€æƒ³ä¸­çš„â€œå¤–éƒ¨â€</li>
<li>IoCå®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œè¢«åˆ›å»ºæˆ–è¢«ç®¡ç†çš„å¯¹è±¡åœ¨IoCå®¹å™¨ä¸­ç»Ÿç§°ä¸º<strong>Bean</strong></li>
</ul>
</li>
<li><strong>DI(Dependency Injection)ä¾èµ–æ³¨å…¥</strong><ul>
<li>å®¹å™¨ä¸ºåº”ç”¨ç¨‹åºæä¾›è¿è¡Œæ—¶ï¼Œæ‰€ä¾èµ–çš„èµ„æºï¼Œç§°ä¹‹ä¸ºä¾èµ–æ³¨å…¥ã€‚</li>
</ul>
</li>
<li>æ•ˆæœï¼šä½¿ç”¨å¯¹è±¡æ—¶ä¸ä»…èƒ½ç›´æ¥ä»IoCå®¹å™¨ä¸­è·å–ï¼Œå¹¶ä¸”è·å–åˆ°çš„beanå·²ç»ç»‘å®šäº†æ‰€æœ‰çš„ä¾èµ–å…³ç³»</li>
<li><strong>Controllerå±‚ï¼š</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//è¿è¡Œæ—¶,ä»IOCå®¹å™¨ä¸­è·å–è¯¥ç±»å‹å¯¹è±¡,èµ‹å€¼ç»™è¯¥å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> EmpService empService ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listEmp&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1. è°ƒç”¨service, è·å–æ•°æ®</span></span><br><span class="line">        List&lt;Emp&gt; empList = empService.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. å“åº”æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(empList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Serviceå±‚ï¼š</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span> <span class="comment">//å°†å½“å‰å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†,æˆä¸ºIOCå®¹å™¨çš„bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpServiceA</span> <span class="keyword">implements</span> <span class="title class_">EmpService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//è¿è¡Œæ—¶,ä»IOCå®¹å™¨ä¸­è·å–è¯¥ç±»å‹å¯¹è±¡,èµ‹å€¼ç»™è¯¥å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> EmpDao empDao ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. è°ƒç”¨dao, è·å–æ•°æ®</span></span><br><span class="line">        List&lt;Emp&gt; empList = empDao.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. å¯¹æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç† - gender, job</span></span><br><span class="line">        empList.stream().forEach(emp -&gt; &#123;</span><br><span class="line">            <span class="comment">//å¤„ç† gender 1: ç”·, 2: å¥³</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">gender</span> <span class="operator">=</span> emp.getGender();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;å¥³&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¤„ç†job - 1: è®²å¸ˆ, 2: ç­ä¸»ä»» , 3: å°±ä¸šæŒ‡å¯¼</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">job</span> <span class="operator">=</span> emp.getJob();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;è®²å¸ˆ&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;ç­ä¸»ä»»&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;3&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;å°±ä¸šæŒ‡å¯¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Daoå±‚ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span> <span class="comment">//å°†å½“å‰å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†,æˆä¸ºIOCå®¹å™¨çš„bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpDaoA</span> <span class="keyword">implements</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. åŠ è½½å¹¶è§£æemp.xml</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResource(<span class="string">&quot;emp.xml&quot;</span>).getFile();</span><br><span class="line">        System.out.println(file);</span><br><span class="line">        List&lt;Emp&gt; empList = XmlParserUtils.parse(file, Emp.class);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="IoCæ¡ˆä¾‹"><a href="#IoCæ¡ˆä¾‹" class="headerlink" title="IoCæ¡ˆä¾‹"></a>IoCæ¡ˆä¾‹</h3><h4 id="Componentçš„è¡ç”Ÿæ³¨è§£"><a href="#Componentçš„è¡ç”Ÿæ³¨è§£" class="headerlink" title="@Componentçš„è¡ç”Ÿæ³¨è§£"></a>@Componentçš„è¡ç”Ÿæ³¨è§£</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">æ³¨è§£</th>
<th style="text-align:left">ä½ç½®</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">@Controller</td>
<td style="text-align:left">æ ‡æ³¨åœ¨æ§åˆ¶å™¨ç±»ä¸Š(RestControllerå·²åŒ…å«)</td>
</tr>
<tr>
<td style="text-align:left">@Service</td>
<td style="text-align:left">æ ‡æ³¨åœ¨ä¸šåŠ¡ç±»ä¸Š</td>
</tr>
<tr>
<td style="text-align:left">@Repository</td>
<td style="text-align:left">æ ‡æ³¨åœ¨æ•°æ®è®¿é—®ç±»ä¸Š(ç”±äºä¸mybatisæ•´åˆï¼Œç”¨å¾—å°‘)</td>
</tr>
</tbody>
</table>
</div>
<p><code>@Repository(value = &quot;daoA&quot;)</code> æŒ‡å®šbeançš„åå­—</p>
<p>æ­¤å››ä¸ªæ³¨è§£æƒ³è¦ç”Ÿæ•ˆï¼Œéœ€è¦è¢«æ‰«ææ³¨è§£<code>@ComponentScan</code>æ‰«æï¼Œè™½ç„¶æ²¡æœ‰æ˜¾å¼é…ç½®ï¼Œä½†æ˜¯å®é™…ä¸Šå·²ç»åŒ…å«åœ¨äº†å¯åŠ¨ç±»å£°æ˜æ³¨è§£<code>@SpringBootApplicatiion</code>ä¸­ï¼Œé»˜è®¤æ‰«æèŒƒå›´æ˜¯å¯åŠ¨ç±»æ‰€åœ¨åŒ…åŠå…¶å­åŒ…ã€‚</p>
<p>æ‰‹åŠ¨è®¾ç½®: <code>@ComponentScan((&quot;dao&quot;,&quot;com.arg&quot;))</code> â†åŒ…å</p>
<p>*è®¾ç½®è¿™ä¸ªæ³¨è§£ä¹‹åä¼šæŠŠåŸæ¥çš„è¦†ç›–æ‰ï¼Œå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥ä¸€èˆ¬æŒ‰ç…§é¡¹ç›®è§„èŒƒæ”¾åœ¨å¯åŠ¨ç±»é‚£ä¸ªåŒ…ä¸‹é¢ã€‚</p>
<h3 id="DIæ¡ˆä¾‹"><a href="#DIæ¡ˆä¾‹" class="headerlink" title="DIæ¡ˆä¾‹"></a>DIæ¡ˆä¾‹</h3><p>å¦‚æœbeanæœ‰å¤šä¸ªï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">æ³¨è§£</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">@Primary</td>
<td style="text-align:left">ä½¿å¾—æ³¨è§£ä¸‹é¢çš„beanä¼˜å…ˆæ³¨å…¥</td>
</tr>
<tr>
<td style="text-align:left">@Aurowired + @Qualifier(â€œbean valueâ€)</td>
<td style="text-align:left">æ³¨å…¥æŒ‡å®šåç§°çš„bean</td>
</tr>
<tr>
<td style="text-align:left">@Resource(name =â€bean valueâ€)</td>
<td style="text-align:left">æ³¨å…¥æŒ‡å®šåç§°çš„bean</td>
</tr>
</tbody>
</table>
</div>
<p>@qå’Œ@aæ˜¯springæä¾›çš„ @ræ˜¯jdkæä¾›çš„<br>@aé»˜è®¤æŒ‰ç…§ç±»å‹æ³¨å…¥ @ré»˜è®¤æŒ‰ç…§åç§°æ³¨å…¥</p>
<h1 id="å¼€å‘è§„èŒƒ"><a href="#å¼€å‘è§„èŒƒ" class="headerlink" title="å¼€å‘è§„èŒƒ"></a>å¼€å‘è§„èŒƒ</h1><h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><ul>
<li>RESTï¼ˆRepresentational State Transferï¼‰ï¼Œè¡¨è¿°æ€§çŠ¶æ€è½¬æ¢ï¼Œå®ƒæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€‚</li>
</ul>
<p><strong>ä¼ ç»ŸURLé£æ ¼å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/user/getById?id=1     GETï¼šæŸ¥è¯¢idä¸º1çš„ç”¨æˆ·</span><br><span class="line">http://localhost:8080/user/saveUser         POSTï¼šæ–°å¢ç”¨æˆ·</span><br><span class="line">http://localhost:8080/user/updateUser       POSTï¼šä¿®æ”¹ç”¨æˆ·</span><br><span class="line">http://localhost:8080/user/deleteUser?id=1  GETï¼šåˆ é™¤idä¸º1çš„ç”¨æˆ·</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çœ‹åˆ°ï¼ŒåŸå§‹çš„ä¼ ç»ŸURLå‘¢ï¼Œå®šä¹‰æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”å°†èµ„æºçš„è®¿é—®è¡Œä¸ºå¯¹å¤–æš´éœ²å‡ºæ¥äº†ã€‚</p>
<p><strong>åŸºäºRESTé£æ ¼URLå¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/users/1  GETï¼šæŸ¥è¯¢idä¸º1çš„ç”¨æˆ·</span><br><span class="line">http://localhost:8080/users    POSTï¼šæ–°å¢ç”¨æˆ·</span><br><span class="line">http://localhost:8080/users    PUTï¼šä¿®æ”¹ç”¨æˆ·</span><br><span class="line">http://localhost:8080/users/1  DELETEï¼šåˆ é™¤idä¸º1çš„ç”¨æˆ·</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æ€»ç»“èµ·æ¥ï¼Œå°±ä¸€å¥è¯ï¼šé€šè¿‡URLå®šä½è¦æ“ä½œçš„èµ„æºï¼Œé€šè¿‡HTTPåŠ¨è¯(è¯·æ±‚æ–¹å¼)æ¥æè¿°å…·ä½“çš„æ“ä½œã€‚</p>
<h2 id="ç»Ÿä¸€å“åº”ç»“æœ-1"><a href="#ç»Ÿä¸€å“åº”ç»“æœ-1" class="headerlink" title="ç»Ÿä¸€å“åº”ç»“æœ"></a>ç»Ÿä¸€å“åº”ç»“æœ</h2><p>å‰åç«¯å·¥ç¨‹åœ¨è¿›è¡Œäº¤äº’æ—¶ï¼Œä½¿ç”¨ç»Ÿä¸€å“åº”ç»“æœ Resultã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;<span class="comment">//å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸ; 0 ä»£è¡¨å¤±è´¥</span></span><br><span class="line">    <span class="keyword">private</span> String msg;  <span class="comment">//å“åº”ä¿¡æ¯ æè¿°å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">private</span> Object data; <span class="comment">//è¿”å›çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¢åˆ æ”¹ æˆåŠŸå“åº”</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>,<span class="string">&quot;success&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢ æˆåŠŸå“åº”</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">(Object data)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>,<span class="string">&quot;success&quot;</span>,data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¤±è´¥å“åº”</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">0</span>,msg,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¼€å‘æµç¨‹"><a href="#å¼€å‘æµç¨‹" class="headerlink" title="å¼€å‘æµç¨‹"></a>å¼€å‘æµç¨‹</h2><ol>
<li><p>æŸ¥çœ‹é¡µé¢åŸå‹æ˜ç¡®éœ€æ±‚</p>
<ul>
<li>æ ¹æ®é¡µé¢åŸå‹å’Œéœ€æ±‚ï¼Œè¿›è¡Œè¡¨ç»“æ„è®¾è®¡ã€ç¼–å†™æ¥å£æ–‡æ¡£(å·²æä¾›)</li>
</ul>
</li>
<li><p>é˜…è¯»æ¥å£æ–‡æ¡£</p>
</li>
<li>æ€è·¯åˆ†æ</li>
<li>åŠŸèƒ½æ¥å£å¼€å‘<ul>
<li>å°±æ˜¯å¼€å‘åå°çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½ï¼Œæˆ‘ä»¬ç§°ä¸ºä¸€ä¸ªæ¥å£</li>
</ul>
</li>
<li>åŠŸèƒ½æ¥å£æµ‹è¯•<ul>
<li>åŠŸèƒ½å¼€å‘å®Œæ¯•åï¼Œå…ˆé€šè¿‡Postmanè¿›è¡ŒåŠŸèƒ½æ¥å£æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åï¼Œå†å’Œå‰ç«¯è¿›è¡Œè”è°ƒæµ‹è¯•</li>
</ul>
</li>
<li>å‰åç«¯è”è°ƒæµ‹è¯•<ul>
<li>å’Œå‰ç«¯å¼€å‘äººå‘˜å¼€å‘å¥½çš„å‰ç«¯å·¥ç¨‹ä¸€èµ·æµ‹è¯•</li>
</ul>
</li>
</ol>
<h2 id="å¼€å‘æ–‡æ¡£"><a href="#å¼€å‘æ–‡æ¡£" class="headerlink" title="å¼€å‘æ–‡æ¡£"></a>å¼€å‘æ–‡æ¡£</h2><p>é™¤äº†ä½¿ç”¨postmanä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç”¨swaggerä¾èµ–ç”Ÿæˆæœ¬åœ°æ¥å£æµ‹è¯•é¡µé¢ã€‚<br>apifoxä¹‹ç±»ä¹Ÿå¯ä»¥ã€‚</p>
<h3 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h3><p>1.å¯¼å…¥ knife4j çš„mavenåæ ‡</p>
<p>2.åœ¨é…ç½®ç±»ä¸­åŠ å…¥ knife4j ç›¸å…³é…ç½®</p>
<p>3.è®¾ç½®é™æ€èµ„æºæ˜ å°„ï¼Œå¦åˆ™æ¥å£æ–‡æ¡£é¡µé¢æ— æ³•è®¿é—®</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>æ³¨è§£</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>@Api</td>
<td>ç”¨åœ¨ç±»ä¸Šï¼Œä¾‹å¦‚Controllerï¼Œè¡¨ç¤ºå¯¹ç±»çš„è¯´æ˜</td>
</tr>
<tr>
<td>@ApiModel</td>
<td>ç”¨åœ¨ç±»ä¸Šï¼Œä¾‹å¦‚entityã€DTOã€VO</td>
</tr>
<tr>
<td>@ApiModelProperty</td>
<td>ç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å±æ€§ä¿¡æ¯</td>
</tr>
<tr>
<td>@ApiOperation</td>
<td>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œä¾‹å¦‚Controllerçš„æ–¹æ³•ï¼Œè¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨</td>
</tr>
</tbody>
</table>
</div>
<h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><p>ä¸»é…ç½®æ–‡ä»¶å¼•ç”¨devæ–‡ä»¶çš„é…ç½®ï¼Œå³å¼€å‘ç¯å¢ƒçš„é…ç½®ï¼ŒæŠ•å…¥ç”Ÿäº§æ—¶å¯ä»¥æ›´æ¢é…ç½®ã€‚</p>
<h1 id="PageHelper"><a href="#PageHelper" class="headerlink" title="PageHelper"></a>PageHelper</h1><p>åŸå§‹æ–¹å¼çš„åˆ†é¡µæŸ¥è¯¢ï¼Œå­˜åœ¨ç€â€æ­¥éª¤å›ºå®šâ€ã€â€ä»£ç é¢‘ç¹â€çš„é—®é¢˜</p>
<p>è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨ä¸€äº›ç°æˆçš„åˆ†é¡µæ’ä»¶å®Œæˆã€‚å¯¹äºMybatisæ¥è®²ç°åœ¨æœ€ä¸»æµçš„å°±æ˜¯PageHelperã€‚</p>
<p>EmpMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpMapper</span> &#123;</span><br><span class="line">    <span class="comment">//è·å–å½“å‰é¡µçš„ç»“æœåˆ—è¡¨</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from emp&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">list</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>EmpServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> PageBean <span class="title function_">page</span><span class="params">(Integer page, Integer pageSize)</span> &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®åˆ†é¡µå‚æ•°</span></span><br><span class="line">    PageHelper.startPage(page, pageSize); </span><br><span class="line">    <span class="comment">// æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    List&lt;Emp&gt; empList = empMapper.list(); </span><br><span class="line">    <span class="comment">// è·å–åˆ†é¡µç»“æœ</span></span><br><span class="line">    Page&lt;Emp&gt; p = (Page&lt;Emp&gt;) empList;   </span><br><span class="line">    <span class="comment">//å°è£…PageBean</span></span><br><span class="line">    <span class="type">PageBean</span> <span class="variable">pageBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PageBean</span>(p.getTotal(), p.getResult()); </span><br><span class="line">    <span class="keyword">return</span> pageBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h1><p>ä¿è¯æ¯æ¬¡ä¸Šä¼ æ–‡ä»¶æ—¶æ–‡ä»¶åéƒ½å”¯ä¸€çš„ï¼ˆä½¿ç”¨UUIDè·å–éšæœºæ–‡ä»¶åï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(String username, Integer age, MultipartFile image)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ ï¼š&#123;&#125;,&#123;&#125;,&#123;&#125;&quot;</span>,username,age,image);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–åŸå§‹æ–‡ä»¶å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> image.getOriginalFilename();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ„å»ºæ–°çš„æ–‡ä»¶å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">extname</span> <span class="operator">=</span> originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));<span class="comment">//æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">newFileName</span> <span class="operator">=</span> UUID.randomUUID().toString()+extname;<span class="comment">//éšæœºå+æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†æ–‡ä»¶å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½•</span></span><br><span class="line">        image.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:/images/&quot;</span>+newFileName));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå¦‚æœéœ€è¦ä¸Šä¼ å¤§æ–‡ä»¶ï¼Œå¯ä»¥åœ¨application.propertiesè¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é…ç½®å•ä¸ªæ–‡ä»¶æœ€å¤§ä¸Šä¼ å¤§å°</span></span><br><span class="line"><span class="attr">spring.servlet.multipart.max-file-size</span>=<span class="string">10MB</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#é…ç½®å•ä¸ªè¯·æ±‚æœ€å¤§ä¸Šä¼ å¤§å°(ä¸€æ¬¡è¯·æ±‚å¯ä»¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶)</span></span><br><span class="line"><span class="attr">spring.servlet.multipart.max-request-size</span>=<span class="string">100MB</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœç›´æ¥å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½•ä¸­ï¼Œå­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¸å®‰å…¨ï¼šç£ç›˜å¦‚æœæŸåï¼Œæ‰€æœ‰çš„æ–‡ä»¶å°±ä¼šä¸¢å¤±</li>
<li>å®¹é‡æœ‰é™ï¼šå¦‚æœå­˜å‚¨å¤§é‡çš„å›¾ç‰‡ï¼Œç£ç›˜ç©ºé—´æœ‰é™(ç£ç›˜ä¸å¯èƒ½æ— é™åˆ¶æ‰©å®¹)</li>
<li>æ— æ³•ç›´æ¥è®¿é—®</li>
</ul>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜å‘¢ï¼Œé€šå¸¸æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>è‡ªå·±æ­å»ºå­˜å‚¨æœåŠ¡å™¨ï¼Œå¦‚ï¼šfastDFS ã€MinIO</li>
<li>ä½¿ç”¨ç°æˆçš„äº‘æœåŠ¡ï¼Œå¦‚ï¼šé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œåä¸ºäº‘</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Larry_794204525/article/details/143966510">æµå¼ä¸Šä¼ ä¸åˆ†ç‰‡ä¸Šä¼ çš„åŸç†ä¸å®ç°</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/qianjindelaowu/p/17691201.html">æ–‡ä»¶ä¸æ–‡ä»¶æµ</a></p>
<h2 id="é˜¿é‡Œäº‘OSS"><a href="#é˜¿é‡Œäº‘OSS" class="headerlink" title="é˜¿é‡Œäº‘OSS"></a>é˜¿é‡Œäº‘OSS</h2><h1 id="å‚æ•°é…ç½®åŒ–-Utils"><a href="#å‚æ•°é…ç½®åŒ–-Utils" class="headerlink" title="å‚æ•°é…ç½®åŒ– Utils"></a>å‚æ•°é…ç½®åŒ– Utils</h1><p>å› ä¸ºapplication.propertiesæ˜¯springbooté¡¹ç›®é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥springbootç¨‹åºåœ¨å¯åŠ¨æ—¶ä¼šé»˜è®¤è¯»å–application.propertiesé…ç½®æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç°æˆçš„æ³¨è§£ï¼š@Valueï¼Œè·å–é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</p>
<p>@Value æ³¨è§£é€šå¸¸ç”¨äºå¤–éƒ¨é…ç½®çš„å±æ€§æ³¨å…¥ï¼Œå…·ä½“ç”¨æ³•ä¸ºï¼š @Value(â€œ${é…ç½®æ–‡ä»¶ä¸­çš„key}â€)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AliOSSUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.endpoint&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String endpoint;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.accessKeyId&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String accessKeyId;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.accessKeySecret&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String accessKeySecret;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.bucketName&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String bucketName;</span><br><span class="line"> 	</span><br><span class="line"> 	<span class="comment">//çœç•¥å…¶ä»–ä»£ç ...</span></span><br><span class="line"> &#125;   </span><br></pre></td></tr></table></figure>
<h2 id="ymlé…ç½®æ–‡ä»¶"><a href="#ymlé…ç½®æ–‡ä»¶" class="headerlink" title="ymlé…ç½®æ–‡ä»¶"></a>ymlé…ç½®æ–‡ä»¶</h2><p>åœ¨springbooté¡¹ç›®å½“ä¸­æ˜¯æ”¯æŒå¤šç§é…ç½®æ–¹å¼çš„ï¼Œé™¤äº†æ”¯æŒpropertiesé…ç½®æ–‡ä»¶ä»¥å¤–ï¼Œè¿˜æ”¯æŒymlæ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<ul>
<li>å¤§å°å†™æ•æ„Ÿ</li>
<li>æ•°å€¼å‰è¾¹å¿…é¡»æœ‰ç©ºæ ¼ï¼Œä½œä¸ºåˆ†éš”ç¬¦</li>
<li>ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œç¼©è¿›æ—¶ï¼Œä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªèƒ½ç”¨ç©ºæ ¼ï¼ˆideaä¸­ä¼šè‡ªåŠ¨å°†Tabè½¬æ¢ä¸ºç©ºæ ¼ï¼‰</li>
<li>ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯</li>
<li><code>#</code>è¡¨ç¤ºæ³¨é‡Šï¼Œä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°è¡Œå°¾ï¼Œéƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥</li>
</ul>
<p>å¸¸è§çš„æ•°æ®æ ¼å¼:</p>
<p>å¯¹è±¡/Mapé›†åˆ</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">user:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">zhangsan</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br><span class="line">  <span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p>æ•°ç»„/List/Seté›†åˆ</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hobby:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">java</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">game</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">sport</span></span><br></pre></td></tr></table></figure>
<h2 id="ConfigurationProperties"><a href="#ConfigurationProperties" class="headerlink" title="@ConfigurationProperties"></a>@ConfigurationProperties</h2><h1 id="ç™»å½•æ ¡éªŒ"><a href="#ç™»å½•æ ¡éªŒ" class="headerlink" title="ç™»å½•æ ¡éªŒ"></a>ç™»å½•æ ¡éªŒ</h1><p>æ€ä¹ˆæ¥å®ç°ç™»å½•æ ¡éªŒçš„æ“ä½œå‘¢ï¼Ÿå…·ä½“çš„å®ç°æ€è·¯å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ol>
<li>åœ¨å‘˜å·¥ç™»å½•æˆåŠŸåï¼Œéœ€è¦å°†ç”¨æˆ·ç™»å½•æˆåŠŸçš„ä¿¡æ¯å­˜èµ·æ¥ï¼Œè®°å½•ç”¨æˆ·å·²ç»ç™»å½•æˆåŠŸçš„æ ‡è®°ã€‚</li>
<li>åœ¨æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œéœ€è¦åœ¨æœåŠ¡ç«¯è¿›è¡Œç»Ÿä¸€æ‹¦æˆªï¼Œæ‹¦æˆªåè¿›è¡Œç™»å½•æ ¡éªŒã€‚</li>
</ol>
<h2 id="åŠ å¯†å­˜å‚¨å¯†ç "><a href="#åŠ å¯†å­˜å‚¨å¯†ç " class="headerlink" title="åŠ å¯†å­˜å‚¨å¯†ç "></a>åŠ å¯†å­˜å‚¨å¯†ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password = DigestUtils.md5DigestAsHex(password.getBytes());</span><br></pre></td></tr></table></figure>
<p>md5åŠ å¯†</p>
<h2 id="ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯"><a href="#ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯" class="headerlink" title="ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯"></a>ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯</h2><p><strong>ä¼šè¯æŠ€æœ¯</strong></p>
<p>webå¼€å‘å½“ä¸­ï¼Œä¼šè¯æŒ‡çš„å°±æ˜¯æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¸€æ¬¡è¿æ¥ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºä¸€æ¬¡ä¼šè¯</p>
<p>ä¼šè¯è·Ÿè¸ªï¼šä¸€ç§ç»´æŠ¤æµè§ˆå™¨çŠ¶æ€çš„æ–¹æ³•ï¼ŒæœåŠ¡å™¨éœ€è¦è¯†åˆ«å¤šæ¬¡è¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€æµè§ˆå™¨ï¼Œä»¥ä¾¿åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®ã€‚</p>
<p>ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯:</p>
<ol>
<li>Cookieï¼ˆå®¢æˆ·ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼‰<ul>
<li>æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨å½“ä¸­</li>
</ul>
</li>
<li>Sessionï¼ˆæœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼‰<ul>
<li>æ•°æ®å­˜å‚¨åœ¨å‚¨åœ¨æœåŠ¡ç«¯</li>
</ul>
</li>
<li>ä»¤ç‰ŒæŠ€æœ¯</li>
</ol>
<h3 id="JWTä»¤ç‰Œ"><a href="#JWTä»¤ç‰Œ" class="headerlink" title="JWTä»¤ç‰Œ"></a>JWTä»¤ç‰Œ</h3><p>JWTå…¨ç§°ï¼šJSON Web Token  ï¼ˆå®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://jwt.io/ï¼‰">https://jwt.io/ï¼‰</a></p>
<ul>
<li><p>å®šä¹‰äº†ä¸€ç§ç®€æ´çš„ã€è‡ªåŒ…å«çš„æ ¼å¼ï¼Œç”¨äºåœ¨é€šä¿¡åŒæ–¹ä»¥jsonæ•°æ®æ ¼å¼å®‰å…¨çš„ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ•°å­—ç­¾åçš„å­˜åœ¨ï¼Œè¿™äº›ä¿¡æ¯æ˜¯å¯é çš„ã€‚<br>JWTçš„ç»„æˆï¼š ï¼ˆJWTä»¤ç‰Œç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸‰ä¸ªéƒ¨åˆ†ä¹‹é—´ä½¿ç”¨è‹±æ–‡çš„ç‚¹æ¥åˆ†å‰²ï¼‰</p>
</li>
<li><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šHeader(å¤´ï¼‰ï¼Œ è®°å½•ä»¤ç‰Œç±»å‹ã€ç­¾åç®—æ³•ç­‰ã€‚ ä¾‹å¦‚ï¼š{â€œalgâ€:â€HS256â€,â€typeâ€:â€JWTâ€}</p>
</li>
<li><p>ç¬¬äºŒéƒ¨åˆ†ï¼šPayload(æœ‰æ•ˆè½½è·ï¼‰ï¼Œæºå¸¦ä¸€äº›è‡ªå®šä¹‰ä¿¡æ¯ã€é»˜è®¤ä¿¡æ¯ç­‰ã€‚ ä¾‹å¦‚ï¼š{â€œidâ€:â€1â€,â€usernameâ€:â€Tomâ€}</p>
</li>
<li><p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šSignature(ç­¾åï¼‰ï¼Œé˜²æ­¢Tokenè¢«ç¯¡æ”¹ã€ç¡®ä¿å®‰å…¨æ€§ã€‚å°†headerã€payloadï¼Œå¹¶åŠ å…¥æŒ‡å®šç§˜é’¥ï¼Œé€šè¿‡æŒ‡å®šç­¾åç®—æ³•è®¡ç®—è€Œæ¥ã€‚</p>
</li>
</ul>
<p>è¦æƒ³ä½¿ç”¨JWTä»¤ç‰Œï¼Œéœ€è¦å…ˆå¼•å…¥JWTçš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- JWTä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç”Ÿæˆï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">genJwt</span><span class="params">()</span>&#123;</span><br><span class="line">    Map&lt;String,Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    claims.put(<span class="string">&quot;id&quot;</span>,<span class="number">1</span>);</span><br><span class="line">    claims.put(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="type">String</span> <span class="variable">jwt</span> <span class="operator">=</span> Jwts.builder()</span><br><span class="line">        .setClaims(claims) <span class="comment">//è‡ªå®šä¹‰å†…å®¹(è½½è·)          </span></span><br><span class="line">        .signWith(SignatureAlgorithm.HS256, <span class="string">&quot;shining&quot;</span>) <span class="comment">//ç­¾åç®—æ³•        </span></span><br><span class="line">        .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + <span class="number">24</span>*<span class="number">3600</span>*<span class="number">1000</span>)) <span class="comment">//æœ‰æ•ˆæœŸ   </span></span><br><span class="line">        .compact();</span><br><span class="line">    </span><br><span class="line">    System.out.println(jwt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰“å¼€JWTçš„å®˜ç½‘ï¼Œå°†ç”Ÿæˆçš„ä»¤ç‰Œç›´æ¥æ”¾åœ¨Encodedä½ç½®ï¼Œæ­¤æ—¶å°±ä¼šè‡ªåŠ¨çš„å°†ä»¤ç‰Œè§£æå‡ºæ¥ã€‚</p>
</blockquote>
<p>æ ¡éªŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseJwt</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> Jwts.parser()</span><br><span class="line">        .setSigningKey(<span class="string">&quot;shining&quot;</span>)<span class="comment">//æŒ‡å®šç­¾åå¯†é’¥ï¼ˆå¿…é¡»ä¿è¯å’Œç”Ÿæˆä»¤ç‰Œæ—¶ä½¿ç”¨ç›¸åŒçš„ç­¾åå¯†é’¥ï¼‰  </span></span><br><span class="line">	    .parseClaimsJws(<span class="string">&quot;eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNjcyNzI5NzMwfQ.fHi0Ub8npbyt71UqLXDdLyipptLgxBUg_mSuGJtXtBk&quot;</span>)</span><br><span class="line">        .getBody();</span><br><span class="line"></span><br><span class="line">    System.out.println(claims);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>@Builderæ³¨é‡Š</strong></p>
<p>å¯ä»¥é€šè¿‡.builder.å±æ€§å(å‚æ•°).å±æ€§å(å‚æ•°).Â·Â·Â·.build();  æ¥ä¼ å…¥æ•°æ®</p>
</blockquote>
<h2 id="Servletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨"><a href="#Servletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨" class="headerlink" title="Servletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨"></a>Servletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨</h2><p><img src="D:\blog\source\images\SSM\6.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@WebFilter(urlPatterns = &quot;/*&quot;)</span> <span class="comment">//æ‹¦æˆªæ‰€æœ‰è¯·æ±‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">//å‰ç½®ï¼šå¼ºåˆ¶è½¬æ¢ä¸ºhttpåè®®çš„è¯·æ±‚å¯¹è±¡ã€å“åº”å¯¹è±¡ ï¼ˆè½¬æ¢åŸå› ï¼šè¦ä½¿ç”¨å­ç±»ä¸­ç‰¹æœ‰æ–¹æ³•ï¼‰</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.è·å–è¯·æ±‚url</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> request.getRequestURL().toString();</span><br><span class="line">        log.info(<span class="string">&quot;è¯·æ±‚è·¯å¾„ï¼š&#123;&#125;&quot;</span>, url); <span class="comment">//è¯·æ±‚è·¯å¾„ï¼šhttp://localhost:8080/login</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ¤æ–­è¯·æ±‚urlä¸­æ˜¯å¦åŒ…å«loginï¼Œå¦‚æœåŒ…å«ï¼Œè¯´æ˜æ˜¯ç™»å½•æ“ä½œï¼Œæ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span>(url.contains(<span class="string">&quot;/login&quot;</span>))&#123;</span><br><span class="line">            chain.doFilter(request, response);<span class="comment">//æ”¾è¡Œè¯·æ±‚</span></span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">//ç»“æŸå½“å‰æ–¹æ³•çš„æ‰§è¡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.è·å–è¯·æ±‚å¤´ä¸­çš„ä»¤ç‰Œï¼ˆtokenï¼‰</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">        log.info(<span class="string">&quot;ä»è¯·æ±‚å¤´ä¸­è·å–çš„ä»¤ç‰Œï¼š&#123;&#125;&quot;</span>,token);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.åˆ¤æ–­ä»¤ç‰Œæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span>(!StringUtils.hasLength(token))&#123;</span><br><span class="line">            log.info(<span class="string">&quot;Tokenä¸å­˜åœ¨&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">Result</span> <span class="variable">responseResult</span> <span class="operator">=</span> Result.error(<span class="string">&quot;NOT_LOGIN&quot;</span>);</span><br><span class="line">            <span class="comment">//æŠŠResultå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸² (fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ç”¨äºå®ç°å¯¹è±¡å’Œjsonçš„è½¬æ¢å·¥å…·ç±»)</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JSONObject.toJSONString(responseResult);</span><br><span class="line">            response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">            <span class="comment">//å“åº”</span></span><br><span class="line">            response.getWriter().write(json);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.è§£ætokenï¼Œå¦‚æœè§£æå¤±è´¥ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            JwtUtils.parseJWT(token);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            log.info(<span class="string">&quot;ä»¤ç‰Œè§£æå¤±è´¥!&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">Result</span> <span class="variable">responseResult</span> <span class="operator">=</span> Result.error(<span class="string">&quot;NOT_LOGIN&quot;</span>);</span><br><span class="line">            <span class="comment">//æŠŠResultå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸² (fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ç”¨äºå®ç°å¯¹è±¡å’Œjsonçš„è½¬æ¢å·¥å…·ç±»)</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JSONObject.toJSONString(responseResult);</span><br><span class="line">            response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">            <span class="comment">//å“åº”</span></span><br><span class="line">            response.getWriter().write(json);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.æ”¾è¡Œ</span></span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>*éœ€å¯¼å…¥fastjsonä¾èµ–</p>
<h2 id="Springæä¾›çš„interceptoræ‹¦æˆªå™¨"><a href="#Springæä¾›çš„interceptoræ‹¦æˆªå™¨" class="headerlink" title="Springæä¾›çš„interceptoræ‹¦æˆªå™¨"></a>Springæä¾›çš„interceptoræ‹¦æˆªå™¨</h2><p>æ‹¦æˆªå™¨ï¼š</p>
<ul>
<li>æ˜¯ä¸€ç§åŠ¨æ€æ‹¦æˆªæ–¹æ³•è°ƒç”¨çš„æœºåˆ¶ï¼Œç±»ä¼¼äºè¿‡æ»¤å™¨ã€‚</li>
<li>æ‹¦æˆªå™¨æ˜¯Springæ¡†æ¶ä¸­æä¾›çš„ï¼Œç”¨æ¥åŠ¨æ€æ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œã€‚</li>
</ul>
<p>æ‹¦æˆªå™¨çš„ä½œç”¨ï¼š</p>
<ul>
<li>æ‹¦æˆªè¯·æ±‚ï¼Œåœ¨æŒ‡å®šæ–¹æ³•è°ƒç”¨å‰åï¼Œæ ¹æ®ä¸šåŠ¡éœ€è¦æ‰§è¡Œé¢„å…ˆè®¾å®šçš„ä»£ç ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="comment">//ç›®æ ‡èµ„æºæ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œã€‚ è¿”å›trueï¼šæ”¾è¡Œ    è¿”å›falseï¼šä¸æ”¾è¡Œ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle .... &quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//trueè¡¨ç¤ºæ”¾è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç›®æ ‡èµ„æºæ–¹æ³•æ‰§è¡Œåæ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle ... &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è§†å›¾æ¸²æŸ“å®Œæ¯•åæ‰§è¡Œï¼Œæœ€åæ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion .... &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨å¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoginCheckInterceptor loginCheckInterceptor;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">       <span class="comment">//æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡</span></span><br><span class="line">        registry.addInterceptor(loginCheckInterceptor).addPathPatterns(<span class="string">&quot;/**&quot;</span>);<span class="comment">//è®¾ç½®æ‹¦æˆªå™¨æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ï¼ˆ /** è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ‹¦æˆªè·¯å¾„</strong></p>
<p><code>addPathPatterns(&quot;è¦æ‹¦æˆªè·¯å¾„&quot;)</code>æ–¹æ³•ï¼ŒæŒ‡å®šè¦æ‹¦æˆªå“ªäº›èµ„æºã€‚</p>
<p><code>excludePathPatterns(&quot;ä¸æ‹¦æˆªè·¯å¾„&quot;)</code>æ–¹æ³•ï¼ŒæŒ‡å®šå“ªäº›èµ„æºä¸éœ€è¦æ‹¦æˆªã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡</span></span><br><span class="line">        registry.addInterceptor(loginCheckInterceptor)</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/**&quot;</span>)<span class="comment">//è®¾ç½®æ‹¦æˆªå™¨æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ï¼ˆ /** è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼‰</span></span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/login&quot;</span>);<span class="comment">//è®¾ç½®ä¸æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><img src="D:\blog\source\images\SSM\7.png" alt=""></p>
<p>è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨ä¹‹é—´çš„åŒºåˆ«ï¼š</p>
<ul>
<li>æ¥å£è§„èŒƒä¸åŒï¼šè¿‡æ»¤å™¨éœ€è¦å®ç°Filteræ¥å£ï¼Œè€Œæ‹¦æˆªå™¨éœ€è¦å®ç°HandlerInterceptoræ¥å£ã€‚</li>
<li>æ‹¦æˆªèŒƒå›´ä¸åŒï¼šè¿‡æ»¤å™¨Filterä¼šæ‹¦æˆªæ‰€æœ‰çš„èµ„æºï¼Œè€ŒInterceptoråªä¼šæ‹¦æˆªSpringç¯å¢ƒä¸­çš„èµ„æºã€‚</li>
</ul>
<h2 id="Filter-amp-Interceptor-amp-AOP"><a href="#Filter-amp-Interceptor-amp-AOP" class="headerlink" title="Filter &amp; Interceptor &amp; AOP"></a>Filter &amp; Interceptor &amp; AOP</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">æµè§ˆå™¨è¯·æ±‚</span><br><span class="line">    â†“</span><br><span class="line"><span class="selector-attr">[Filter]</span> ï¼ˆè¿‡æ»¤å™¨ï¼‰      â† Servlet å±‚ï¼Œæœ€å¤–å±‚ï¼Œæœ€å…ˆæ‰§è¡Œ</span><br><span class="line">    â†“</span><br><span class="line"><span class="selector-attr">[DispatcherServlet]</span></span><br><span class="line">    â†“</span><br><span class="line"><span class="selector-attr">[Interceptor.preHandle()]</span> ï¼ˆæ‹¦æˆªå™¨å‰ç½®ï¼‰</span><br><span class="line">    â†“</span><br><span class="line"><span class="selector-attr">[Controller]</span> ï¼ˆçœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ï¼‰</span><br><span class="line">    â†“</span><br><span class="line"><span class="selector-attr">[Interceptor.postHandle()]</span> ï¼ˆæ‹¦æˆªå™¨åç½®ï¼‰</span><br><span class="line">    â†“</span><br><span class="line"><span class="selector-attr">[Interceptor.afterCompletion()]</span> ï¼ˆè¯·æ±‚å®Œæˆåï¼‰</span><br><span class="line">    â†“</span><br><span class="line"><span class="attribute">Filter</span> è¿”å›å“åº”</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>å¯¹æ¯”é¡¹</th>
<th>Filter</th>
<th>Interceptor</th>
<th>AOP</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¿è¡Œå±‚çº§</td>
<td>Servlet æœ€å¤–å±‚</td>
<td>Spring MVC å±‚</td>
<td>Spring æ–¹æ³•å±‚</td>
</tr>
<tr>
<td>èƒ½æ‹¦æˆªï¼Ÿ</td>
<td>æ‰€æœ‰ HTTP è¯·æ±‚</td>
<td>Controller è¯·æ±‚</td>
<td>ä»»ä½• Spring Bean æ–¹æ³•</td>
</tr>
<tr>
<td>æ˜¯å¦ä¸ HTTP å¼ºç»‘å®š</td>
<td>âœ” å¼ºå…³è”</td>
<td>âœ” å…³è”</td>
<td>âŒ æ— å…³è”</td>
</tr>
<tr>
<td>èƒ½å¦æ‹¦æˆªå†…éƒ¨æ–¹æ³•è°ƒç”¨</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âœ” æœ‰èƒ½åŠ›</td>
</tr>
<tr>
<td>é€šå¸¸ä½¿ç”¨åœºæ™¯</td>
<td>CORSã€XSSã€ç™»å½•è¿‡æ»¤</td>
<td>æƒé™ã€ç™»å½•æ ¡éªŒã€API çº§æ‹¦æˆª</td>
<td>æ—¥å¿—ã€äº‹åŠ¡ã€æ€§èƒ½ã€å®¡è®¡</td>
</tr>
<tr>
<td>æ˜¯å¦çŸ¥é“è¢«è°ƒç”¨çš„æ–¹æ³•</td>
<td>âŒ</td>
<td>âœ”ï¼ˆController æ–¹æ³•ï¼‰</td>
<td>âœ”ï¼ˆæ‰€æœ‰ Spring Bean æ–¹æ³•ï¼‰</td>
</tr>
<tr>
<td>æ˜¯å¦éœ€è¦ Spring</td>
<td>âŒï¼ˆServlet è§„èŒƒï¼‰</td>
<td>âœ”</td>
<td>âœ”</td>
</tr>
<tr>
<td>æ˜¯å¦èƒ½æ‹¦æˆªé™æ€èµ„æº</td>
<td>âœ”</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
</tbody>
</table>
</div>
<h1 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h1><p>å½“æˆ‘ä»¬æ²¡æœ‰åšä»»ä½•çš„å¼‚å¸¸å¤„ç†æ—¶ï¼Œæˆ‘ä»¬ä¸‰å±‚æ¶æ„å¤„ç†å¼‚å¸¸çš„æ–¹æ¡ˆï¼š</p>
<ul>
<li>Mapperæ¥å£åœ¨æ“ä½œæ•°æ®åº“çš„æ—¶å€™å‡ºé”™äº†ï¼Œæ­¤æ—¶å¼‚å¸¸ä¼šå¾€ä¸ŠæŠ›(è°è°ƒç”¨Mapperå°±æŠ›ç»™è°)ï¼Œä¼šæŠ›ç»™serviceã€‚ </li>
<li>service ä¸­ä¹Ÿå­˜åœ¨å¼‚å¸¸äº†ï¼Œä¼šæŠ›ç»™controllerã€‚</li>
<li>è€Œåœ¨controllerå½“ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰åšä»»ä½•çš„å¼‚å¸¸å¤„ç†ï¼Œæ‰€ä»¥æœ€ç»ˆå¼‚å¸¸ä¼šå†å¾€ä¸ŠæŠ›ã€‚æœ€ç»ˆæŠ›ç»™æ¡†æ¶ä¹‹åï¼Œæ¡†æ¶å°±ä¼šè¿”å›ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ï¼Œé‡Œé¢å°è£…çš„å°±æ˜¯é”™è¯¯çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ¡†æ¶è¿”å›çš„JSONæ ¼å¼çš„æ•°æ®å¹¶ä¸ç¬¦åˆæˆ‘ä»¬çš„å¼€å‘è§„èŒƒã€‚</li>
</ul>
<h2 id="å…¨å±€å¼‚å¸¸å¤„ç†å™¨"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†å™¨" class="headerlink" title="å…¨å±€å¼‚å¸¸å¤„ç†å™¨"></a>å…¨å±€å¼‚å¸¸å¤„ç†å™¨</h2><ul>
<li>åœ¨ç±»ä¸ŠåŠ ä¸Šä¸€ä¸ªæ³¨è§£@RestControllerAdviceï¼ŒåŠ ä¸Šè¿™ä¸ªæ³¨è§£å°±ä»£è¡¨æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†å™¨ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥æ•è·å¼‚å¸¸ï¼ŒåŠ ä¸Šæ³¨è§£@ExceptionHandlerã€‚é€šè¿‡@ExceptionHandleræ³¨è§£å½“ä¸­çš„valueå±æ€§æ¥æŒ‡å®šæˆ‘ä»¬è¦æ•è·çš„æ˜¯å“ªä¸€ç±»å‹çš„å¼‚å¸¸ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç†å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span> <span class="comment">//æŒ‡å®šèƒ½å¤Ÿå¤„ç†çš„å¼‚å¸¸ç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">ex</span><span class="params">(Exception e)</span>&#123;</span><br><span class="line">        e.printStackTrace();<span class="comment">//æ‰“å°å †æ ˆä¸­çš„å¼‚å¸¸ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ•è·åˆ°å¼‚å¸¸ä¹‹åï¼Œå“åº”ä¸€ä¸ªæ ‡å‡†çš„Result</span></span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;å¯¹ä¸èµ·,æ“ä½œå¤±è´¥,è¯·è”ç³»ç®¡ç†å‘˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨ä¾‹ï¼šé˜²æ­¢é‡å¤ç”¨æˆ·å</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExceptionHandler</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">exceptionHandler</span><span class="params">(SQLIntegrityConstraintViolationException ex)</span>&#123;</span><br><span class="line"><span class="comment">//        java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#x27;zhangsan&#x27; for key &#x27;employee.idx_username&#x27;</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> ex.getMessage();</span><br><span class="line">        <span class="keyword">if</span>(message.contains(<span class="string">&quot;Duplicate entry&quot;</span>))&#123;</span><br><span class="line">            String[] split = message.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> split[<span class="number">2</span>];</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> username + MessageConstant.ALREADY_EXISTS;</span><br><span class="line">            <span class="keyword">return</span> Result.error(msg);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(MessageConstant.UNKNOWN_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>@RestControllerAdvice = @ControllerAdvice + @ResponseBody</p>
<p>å¤„ç†å¼‚å¸¸çš„æ–¹æ³•è¿”å›å€¼ä¼šè½¬æ¢ä¸ºjsonåå†å“åº”ç»™å‰ç«¯</p>
</blockquote>
<h1 id="äº‹åŠ¡-amp-AOP"><a href="#äº‹åŠ¡-amp-AOP" class="headerlink" title="äº‹åŠ¡&amp;AOP"></a>äº‹åŠ¡&amp;AOP</h1><h2 id="Springäº‹åŠ¡ç®¡ç†"><a href="#Springäº‹åŠ¡ç®¡ç†" class="headerlink" title="Springäº‹åŠ¡ç®¡ç†"></a>Springäº‹åŠ¡ç®¡ç†</h2><p>åœ¨æ–¹æ³•è¿è¡Œä¹‹å‰ï¼Œå¼€å¯äº‹åŠ¡ï¼Œå¦‚æœæ–¹æ³•æˆåŠŸæ‰§è¡Œï¼Œå°±æäº¤äº‹åŠ¡ï¼Œå¦‚æœæ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹å½“ä¸­å‡ºç°å¼‚å¸¸äº†ï¼Œå°±å›æ»šäº‹åŠ¡ã€‚</p>
<h3 id="Transactionalæ³¨è§£"><a href="#Transactionalæ³¨è§£" class="headerlink" title="Transactionalæ³¨è§£"></a>Transactionalæ³¨è§£</h3><p>ä½œç”¨ï¼šå¼€å¯äº‹åŠ¡ï¼Œæ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åæäº¤äº‹åŠ¡ã€‚å¦‚æœåœ¨è¿™ä¸ªæ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹å½“ä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œå°±ä¼šè¿›è¡Œäº‹åŠ¡çš„å›æ»šæ“ä½œã€‚</p>
<p>@Transactionalæ³¨è§£ä¹¦å†™ä½ç½®ï¼š</p>
<ul>
<li>æ–¹æ³• -&gt; å½“å‰æ–¹æ³•äº¤ç»™springè¿›è¡Œäº‹åŠ¡ç®¡ç†</li>
<li>ç±» -&gt; å½“å‰ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½äº¤ç”±springè¿›è¡Œäº‹åŠ¡ç®¡ç†</li>
<li>æ¥å£ -&gt; æ¥å£ä¸‹æ‰€æœ‰çš„å®ç°ç±»å½“ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½äº¤ç»™spring è¿›è¡Œäº‹åŠ¡ç®¡ç†</li>
</ul>
<blockquote>
<p>èˆ¬ä¼šåœ¨ä¸šåŠ¡å±‚å½“ä¸­æ¥æ§åˆ¶äº‹åŠ¡ï¼Œå› ä¸ºåœ¨ä¸šåŠ¡å±‚å½“ä¸­ï¼Œä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½å¯èƒ½ä¼šåŒ…å«å¤šä¸ªæ•°æ®è®¿é—®çš„æ“ä½œã€‚åœ¨ä¸šåŠ¡å±‚æ¥æ§åˆ¶äº‹åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å¤šä¸ªæ•°æ®è®¿é—®æ“ä½œæ§åˆ¶åœ¨ä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…ã€‚</p>
</blockquote>
<h3 id="rollbackFor"><a href="#rollbackFor" class="headerlink" title="rollbackFor"></a>rollbackFor</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰å‡ºç°RuntimeException(è¿è¡Œæ—¶å¼‚å¸¸)æ‰ä¼šå›æ»šäº‹åŠ¡ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬æƒ³è®©æ‰€æœ‰çš„å¼‚å¸¸éƒ½å›æ»šï¼Œéœ€è¦æ¥é…ç½®@Transactionalæ³¨è§£å½“ä¸­çš„rollbackForå±æ€§ï¼Œé€šè¿‡rollbackForè¿™ä¸ªå±æ€§å¯ä»¥æŒ‡å®šå‡ºç°ä½•ç§å¼‚å¸¸ç±»å‹å›æ»šäº‹åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(rollbackFor=Exception.class)</span></span><br></pre></td></tr></table></figure>
<h3 id="propagation"><a href="#propagation" class="headerlink" title="propagation"></a>propagation</h3><p>äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º:</p>
<ul>
<li>å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªäº‹åŠ¡æ–¹æ³•åº”è¯¥å¦‚ä½•è¿›è¡Œäº‹åŠ¡æ§åˆ¶ã€‚</li>
</ul>
<p>å¸¸è§çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸º:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>å±æ€§å€¼</strong></th>
<th><strong>å«ä¹‰</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>REQUIRED</strong></td>
<td>ã€é»˜è®¤å€¼ã€‘éœ€è¦äº‹åŠ¡ï¼Œæœ‰åˆ™åŠ å…¥ï¼Œæ— åˆ™åˆ›å»ºæ–°äº‹åŠ¡</td>
</tr>
<tr>
<td><strong>REQUIRES_NEW</strong></td>
<td>éœ€è¦æ–°äº‹åŠ¡ï¼Œæ— è®ºæœ‰æ— ï¼Œæ€»æ˜¯åˆ›å»ºæ–°äº‹åŠ¡</td>
</tr>
<tr>
<td>SUPPORTS</td>
<td>æ”¯æŒäº‹åŠ¡ï¼Œæœ‰åˆ™åŠ å…¥ï¼Œæ— åˆ™åœ¨æ— äº‹åŠ¡çŠ¶æ€ä¸­è¿è¡Œ</td>
</tr>
<tr>
<td>NOT_SUPPORTED</td>
<td>ä¸æ”¯æŒäº‹åŠ¡ï¼Œåœ¨æ— äº‹åŠ¡çŠ¶æ€ä¸‹è¿è¡Œ,å¦‚æœå½“å‰å­˜åœ¨å·²æœ‰äº‹åŠ¡,åˆ™æŒ‚èµ·å½“å‰äº‹åŠ¡</td>
</tr>
<tr>
<td>MANDATORY</td>
<td>å¿…é¡»æœ‰äº‹åŠ¡ï¼Œå¦åˆ™æŠ›å¼‚å¸¸</td>
</tr>
<tr>
<td>NEVER</td>
<td>å¿…é¡»æ²¡äº‹åŠ¡ï¼Œå¦åˆ™æŠ›å¼‚å¸¸</td>
</tr>
<tr>
<td>â€¦</td>
</tr>
</tbody>
</table>
</div>
<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><p><code>Aspect Oriented Programming</code>ï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ã€é¢å‘æ–¹é¢ç¼–ç¨‹ï¼‰</p>
<p>AOPçš„ä½œç”¨ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´åœ¨ä¸ä¿®æ”¹æºä»£ç çš„åŸºç¡€ä¸Šå¯¹å·²æœ‰æ–¹æ³•è¿›è¡Œå¢å¼ºï¼ˆæ— ä¾µå…¥æ€§: è§£è€¦ï¼‰</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16570607/article/details/118360338">åŠ¨æ€ä»£ç†æŠ€æœ¯</a></p>
<blockquote>
<p>AOPçš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>å‡å°‘é‡å¤ä»£ç </li>
<li>æé«˜å¼€å‘æ•ˆç‡</li>
<li>ç»´æŠ¤æ–¹ä¾¿</li>
</ol>
<p>å¸¸è§çš„åº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>è®°å½•ç³»ç»Ÿçš„æ“ä½œæ—¥å¿—</li>
<li>æƒé™æ§åˆ¶</li>
<li>äº‹åŠ¡ç®¡ç†ï¼šæˆ‘ä»¬å‰é¢æ‰€è®²è§£çš„Springäº‹åŠ¡ç®¡ç†ï¼Œåº•å±‚å…¶å®ä¹Ÿæ˜¯é€šè¿‡AOPæ¥å®ç°çš„ï¼Œåªè¦æ·»åŠ @Transactionalæ³¨è§£ä¹‹åï¼ŒAOPç¨‹åºè‡ªåŠ¨ä¼šåœ¨åŸå§‹æ–¹æ³•è¿è¡Œå‰å…ˆæ¥å¼€å¯äº‹åŠ¡ï¼Œåœ¨åŸå§‹æ–¹æ³•è¿è¡Œå®Œæ¯•ä¹‹åæäº¤æˆ–å›æ»šäº‹åŠ¡</li>
</ul>
</blockquote>
<p>AOPä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>AOPç¤ºä¾‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span> <span class="comment">//å½“å‰ç±»ä¸ºåˆ‡é¢ç±»</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;execution(* com.example.demo.service.*.*(..))&quot;)</span> </span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">recordTime</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">//è®°å½•æ–¹æ³•æ‰§è¡Œå¼€å§‹æ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">begin</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡ŒåŸå§‹æ–¹æ³•</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> pjp.proceed();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®°å½•æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¡ç®—æ–¹æ³•æ‰§è¡Œè€—æ—¶</span></span><br><span class="line">        log.info(pjp.getSignature()+<span class="string">&quot;æ‰§è¡Œè€—æ—¶: &#123;&#125;æ¯«ç§’&quot;</span>,end-begin);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>AOPæ ¸å¿ƒæ¦‚å¿µ</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ¦‚å¿µ</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adviceï¼ˆé€šçŸ¥ï¼‰</td>
<td>ä½ æƒ³æ·»åŠ çš„â€œå…±æ€§é€»è¾‘â€</td>
</tr>
<tr>
<td>PointCutï¼ˆåˆ‡å…¥ç‚¹ï¼‰</td>
<td>é€šçŸ¥åº”ç”¨åˆ°å“ªäº›æ–¹æ³•</td>
</tr>
<tr>
<td>Aspectï¼ˆåˆ‡é¢ï¼‰</td>
<td>é€šçŸ¥ + åˆ‡å…¥ç‚¹</td>
</tr>
<tr>
<td>Targetï¼ˆç›®æ ‡å¯¹è±¡ï¼‰</td>
<td>è¢«å¢å¼ºçš„åŸå§‹å¯¹è±¡æ–¹æ³•</td>
</tr>
</tbody>
</table>
</div>
<h3 id="JoinPoint"><a href="#JoinPoint" class="headerlink" title="JoinPoint"></a>JoinPoint</h3><p>è¿æ¥ç‚¹æŒ‡çš„æ˜¯å¯ä»¥è¢«aopæ§åˆ¶çš„æ–¹æ³•ã€‚</p>
<p>åœ¨Springä¸­ç”¨JoinPointæŠ½è±¡äº†è¿æ¥ç‚¹ï¼Œç”¨å®ƒå¯ä»¥è·å¾—æ–¹æ³•æ‰§è¡Œæ—¶çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç›®æ ‡ç±»åã€æ–¹æ³•åã€æ–¹æ³•å‚æ•°ç­‰ã€‚</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>é€šçŸ¥ç±»å‹</th>
<th>è¿æ¥ç‚¹å‚æ•°ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Around</td>
<td>ProceedingJoinPoint</td>
</tr>
<tr>
<td>å…¶ä»–é€šçŸ¥</td>
<td>JoinPoint</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¯ç»•é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Around(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">around</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">//è·å–ç›®æ ‡ç±»å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> pjp.getTarget().getClass().getName();</span><br><span class="line">        log.info(<span class="string">&quot;ç›®æ ‡ç±»åï¼š&#123;&#125;&quot;</span>,name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç›®æ ‡æ–¹æ³•å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> pjp.getSignature().getName();</span><br><span class="line">        log.info(<span class="string">&quot;ç›®æ ‡æ–¹æ³•åï¼š&#123;&#125;&quot;</span>,methodName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–æ–¹æ³•æ‰§è¡Œæ—¶éœ€è¦çš„å‚æ•°</span></span><br><span class="line">        Object[] args = pjp.getArgs();</span><br><span class="line">        log.info(<span class="string">&quot;ç›®æ ‡æ–¹æ³•å‚æ•°ï¼š&#123;&#125;&quot;</span>, Arrays.toString(args));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡ŒåŸå§‹æ–¹æ³•</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">returnValue</span> <span class="operator">=</span> pjp.proceed();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> returnValue;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Advice"><a href="#Advice" class="headerlink" title="Advice"></a>Advice</h2><p>æŒ‡å“ªäº›é‡å¤çš„é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯å…±æ€§åŠŸèƒ½ï¼ˆæœ€ç»ˆä½“ç°ä¸ºä¸€ä¸ªæ–¹æ³•ï¼‰</p>
<p>ä¸Šé¢recordTimeæ–¹æ³•å³æ˜¯</p>
<h2 id="PointCut"><a href="#PointCut" class="headerlink" title="PointCut"></a>PointCut</h2><p>åŒ¹é…è¿æ¥ç‚¹çš„æ¡ä»¶ï¼Œé€šçŸ¥ä»…ä¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œæ—¶è¢«åº”ç”¨</p>
<p>åœ¨aopçš„å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé€šè¿‡ä¸€ä¸ªåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ¥æè¿°åˆ‡å…¥ç‚¹</p>
<p>å¦‚<code>execution(* com.example.demo.service.*.*(..))</code></p>
<h3 id="execution-åˆ‡å…¥è¡¨è¾¾å¼"><a href="#execution-åˆ‡å…¥è¡¨è¾¾å¼" class="headerlink" title="execution åˆ‡å…¥è¡¨è¾¾å¼"></a>execution åˆ‡å…¥è¡¨è¾¾å¼</h3><p>è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(è®¿é—®ä¿®é¥°ç¬¦?  è¿”å›å€¼  åŒ…å.ç±»å.?æ–¹æ³•å(æ–¹æ³•å‚æ•°) throws å¼‚å¸¸?)</span><br></pre></td></tr></table></figure>
<p><code>?</code>:å¯ä»¥çœç•¥çš„éƒ¨åˆ†</p>
<p>äº‹ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Before(&quot;execution(void com.example.demo.impl.DeptServiceImpl.delete(java.lang.Integer))&quot;)</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨é€šé…ç¬¦æè¿°åˆ‡å…¥ç‚¹</p>
<ul>
<li><p><code>*</code> ï¼šå•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥é€šé…ä»»æ„è¿”å›å€¼ã€åŒ…åã€ç±»åã€æ–¹æ³•åã€ä»»æ„ç±»å‹çš„ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥é€šé…åŒ…ã€ç±»ã€æ–¹æ³•åçš„ä¸€éƒ¨åˆ†</p>
</li>
<li><p><code>..</code> ï¼šå¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥é€šé…ä»»æ„å±‚çº§çš„åŒ…ï¼Œæˆ–ä»»æ„ç±»å‹ã€ä»»æ„ä¸ªæ•°çš„å‚æ•°</p>
</li>
</ul>
<p>ä½¿ç”¨<code>..</code>çœç•¥åŒ…å, ä½¿ç”¨<code>*</code>ä»£æ›¿ç±»å</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(* com..*.delete(java.lang.Integer))   </span><br></pre></td></tr></table></figure>
<p>æ ¹æ®ä¸šåŠ¡éœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨ ä¸”ï¼ˆ&amp;&amp;ï¼‰ã€æˆ–ï¼ˆ||ï¼‰ã€éï¼ˆ!ï¼‰ æ¥ç»„åˆæ¯”è¾ƒå¤æ‚çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(* com.example.demo.service.DeptService.list(..)) || execution(* com.example.demo.service.DeptService.delete(..))</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒ¹é…DeptServiceImplç±»ä¸­ä»¥findå¼€å¤´çš„æ–¹æ³•</span></span><br><span class="line">execution(* com.itheima.service.impl.DeptServiceImpl.find*(..))</span><br></pre></td></tr></table></figure>
<p>åœ¨æ»¡è¶³ä¸šåŠ¡éœ€è¦çš„å‰æä¸‹ï¼Œå°½é‡ç¼©å°åˆ‡å…¥ç‚¹çš„åŒ¹é…èŒƒå›´ã€‚å¦‚ï¼šåŒ…ååŒ¹é…å°½é‡ä¸ä½¿ç”¨ ..ï¼Œä½¿ç”¨ * åŒ¹é…å•ä¸ªåŒ…</p>
<h3 id="annotation-åˆ‡å…¥ç‚¹ï¼ˆåŸºäºæ³¨è§£åŒ¹é…ï¼‰"><a href="#annotation-åˆ‡å…¥ç‚¹ï¼ˆåŸºäºæ³¨è§£åŒ¹é…ï¼‰" class="headerlink" title="@annotation åˆ‡å…¥ç‚¹ï¼ˆåŸºäºæ³¨è§£åŒ¹é…ï¼‰"></a>@annotation åˆ‡å…¥ç‚¹ï¼ˆåŸºäºæ³¨è§£åŒ¹é…ï¼‰</h3><p>å®ç°æ­¥éª¤ï¼š</p>
<ol>
<li><p>ç¼–å†™è‡ªå®šä¹‰æ³¨è§£</p>
</li>
<li><p>åœ¨ä¸šåŠ¡ç±»è¦åšä¸ºè¿æ¥ç‚¹çš„æ–¹æ³•ä¸Šæ·»åŠ è‡ªå®šä¹‰æ³¨è§£</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyLog &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@MyLog</span> <span class="comment">//è‡ªå®šä¹‰æ³¨è§£ï¼ˆè¡¨ç¤ºï¼šå½“å‰æ–¹æ³•å±äºç›®æ ‡æ–¹æ³•ï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Dept&gt; <span class="title function_">list</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Dept&gt; deptList = deptMapper.list();</span><br><span class="line">        <span class="comment">//æ¨¡æ‹Ÿå¼‚å¸¸</span></span><br><span class="line">        <span class="comment">//int num = 10/0;</span></span><br><span class="line">        <span class="keyword">return</span> deptList;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect6</span> &#123;</span><br><span class="line">    <span class="comment">//é’ˆå¯¹listæ–¹æ³•ã€deleteæ–¹æ³•è¿›è¡Œå‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‰ç½®é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Before(&quot;@annotation(com.example.demo.aop.MyLog)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;MyAspect6 -&gt; before ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åç½®é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@After(&quot;@annotation(com.example.demo.aop.MyLog)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;MyAspect6 -&gt; after ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>executionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼</p>
<p>æ ¹æ®æˆ‘ä»¬æ‰€æŒ‡å®šçš„æ–¹æ³•çš„æè¿°ä¿¡æ¯æ¥åŒ¹é…åˆ‡å…¥ç‚¹æ–¹æ³•ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæ˜¯æœ€ä¸ºå¸¸ç”¨çš„ä¸€ç§æ–¹å¼</p>
<p>å¦‚æœæˆ‘ä»¬è¦åŒ¹é…çš„åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ–¹æ³•åä¸è§„åˆ™ï¼Œæˆ–è€…æœ‰ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„éœ€æ±‚ï¼Œé€šè¿‡executionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æè¿°æ¯”è¾ƒç¹ç</p>
</li>
<li><p>annotation åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</p>
<p>åŸºäºæ³¨è§£çš„æ–¹å¼æ¥åŒ¹é…åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚è¿™ç§æ–¹å¼è™½ç„¶å¤šä¸€æ­¥æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Œä½†æ˜¯ç›¸å¯¹æ¥æ¯”è¾ƒçµæ´»ã€‚æˆ‘ä»¬éœ€è¦åŒ¹é…å“ªä¸ªæ–¹æ³•ï¼Œå°±åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šå¯¹åº”çš„æ³¨è§£å°±å¯ä»¥äº†</p>
</li>
</ul>
<h2 id="Aspect"><a href="#Aspect" class="headerlink" title="Aspect"></a>Aspect</h2><p>å½“é€šçŸ¥å’Œåˆ‡å…¥ç‚¹ç»“åˆåœ¨ä¸€èµ·ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªåˆ‡é¢</p>
<p>åˆ‡é¢æ‰€åœ¨çš„ç±»ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¸º<strong>åˆ‡é¢ç±»</strong>ï¼ˆè¢«@Aspectæ³¨è§£æ ‡è¯†çš„ç±»ï¼‰</p>
<h2 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h2><p>ç›®æ ‡å¯¹è±¡æŒ‡çš„å°±æ˜¯é€šçŸ¥æ‰€åº”ç”¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºç›®æ ‡å¯¹è±¡ã€‚</p>
<p>å¦‚com.example.demo.serviceä¸­çš„æ‰€æœ‰æ–¹æ³•</p>
<p>Springçš„AOPåº•å±‚æ˜¯åŸºäºåŠ¨æ€ä»£ç†æŠ€æœ¯æ¥å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨çš„åŸºäºåŠ¨æ€ä»£ç†æŠ€æœ¯ä¸ºç›®æ ‡å¯¹è±¡ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ä»£ç†å¯¹è±¡ã€‚åœ¨ä»£ç†å¯¹è±¡å½“ä¸­å°±ä¼šå¯¹ç›®æ ‡å¯¹è±¡å½“ä¸­çš„åŸå§‹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½çš„å¢å¼ºã€‚</p>
<h3 id="é€šçŸ¥ç±»å‹"><a href="#é€šçŸ¥ç±»å‹" class="headerlink" title="é€šçŸ¥ç±»å‹"></a>é€šçŸ¥ç±»å‹</h3><p>Springä¸­AOPçš„é€šçŸ¥ç±»å‹ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>æ³¨è§£</strong></th>
<th><strong>æ•ˆæœ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>@Around</td>
<td>ç¯ç»•é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰ã€åéƒ½è¢«æ‰§è¡Œ</td>
</tr>
<tr>
<td>@Before</td>
<td>å‰ç½®é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰è¢«æ‰§è¡Œ</td>
</tr>
<tr>
<td>@After</td>
<td>åç½®é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ</td>
</tr>
<tr>
<td>@AfterReturning</td>
<td>è¿”å›åé€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæœ‰å¼‚å¸¸ä¸ä¼šæ‰§è¡Œ</td>
</tr>
<tr>
<td>@AfterThrowing</td>
<td>å¼‚å¸¸åé€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•å‘ç”Ÿå¼‚å¸¸åæ‰§è¡Œ</td>
</tr>
</tbody>
</table>
</div>
<p>æ‰§è¡Œé¡ºåº: around before -&gt; before -&gt; afterReturning /afterthrowing(è‹¥æœ‰å¼‚å¸¸)-&gt; after -&gt; around after</p>
<p>åœ¨ä¸åŒåˆ‡é¢ç±»ä¸­ï¼Œé»˜è®¤æŒ‰ç…§åˆ‡é¢ç±»çš„ç±»åå­—æ¯æ’åºï¼š</p>
<ul>
<li>æ–¹æ³•å‰ï¼šå­—æ¯æ’åé å‰çš„å…ˆæ‰§è¡Œ</li>
<li>æ–¹æ³•åï¼šå­—æ¯æ’åé å‰çš„åæ‰§è¡Œ</li>
</ul>
<p>â€»@Aroundç¯ç»•é€šçŸ¥éœ€è¦è‡ªå·±è°ƒç”¨ ProceedingJoinPoint.proceed() æ¥è®©åŸå§‹æ–¹æ³•æ‰§è¡Œï¼Œå…¶ä»–é€šçŸ¥ä¸éœ€è¦è€ƒè™‘ç›®æ ‡æ–¹æ³•æ‰§è¡Œ</p>
<h3 id="PointCut-1"><a href="#PointCut-1" class="headerlink" title="@PointCut"></a>@PointCut</h3><p>Springæä¾›äº†@PointCutæ³¨è§£ï¼Œè¯¥æ³¨è§£çš„ä½œç”¨æ˜¯å°†å…¬å…±çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æŠ½å–å‡ºæ¥ï¼Œéœ€è¦ç”¨åˆ°æ—¶å¼•ç”¨è¯¥åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ‡å…¥ç‚¹æ–¹æ³•ï¼ˆå…¬å…±çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼‰</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.demo.service.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‰ç½®é€šçŸ¥ï¼ˆå¼•ç”¨åˆ‡å…¥ç‚¹ï¼‰</span></span><br><span class="line">    <span class="meta">@Before(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">(JoinPoint joinPoint)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;before ...&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>â€»å½“å¤–éƒ¨å…¶ä»–åˆ‡é¢ç±»ä¸­ä¹Ÿè¦å¼•ç”¨å½“å‰ç±»ä¸­çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œå°±éœ€è¦æŠŠprivateæ”¹ä¸ºpublic</p>
<h2 id="Order"><a href="#Order" class="headerlink" title="@Order"></a>@Order</h2><p>ä½¿ç”¨@Orderæ³¨è§£ï¼Œæ§åˆ¶é€šçŸ¥çš„æ‰§è¡Œé¡ºåºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(2)</span>  <span class="comment">//åˆ‡é¢ç±»çš„æ‰§è¡Œé¡ºåºï¼ˆå‰ç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°å…ˆæ‰§è¡Œ; åç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°è¶Šåæ‰§è¡Œï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect2</span> &#123;</span><br><span class="line">    <span class="comment">// é€šçŸ¥...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(3)</span>  <span class="comment">//åˆ‡é¢ç±»çš„æ‰§è¡Œé¡ºåºï¼ˆå‰ç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°å…ˆæ‰§è¡Œ; åç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°è¶Šåæ‰§è¡Œï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect3</span> &#123;</span><br><span class="line">    <span class="comment">//é€šçŸ¥...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="æ‰©å±•Spring-MVCçš„æ¶ˆæ¯è½¬æ¢å™¨"><a href="#æ‰©å±•Spring-MVCçš„æ¶ˆæ¯è½¬æ¢å™¨" class="headerlink" title="æ‰©å±•Spring MVCçš„æ¶ˆæ¯è½¬æ¢å™¨"></a>æ‰©å±•Spring MVCçš„æ¶ˆæ¯è½¬æ¢å™¨</h1><p>åœ¨ WebMvcConfiguration ä¸­æ‰©å±•Spring MVCçš„æ¶ˆæ¯è½¬æ¢å™¨ï¼Œç»Ÿä¸€å¯¹æ—¥æœŸç±»å‹è¿›è¡Œæ ¼å¼åŒ–å¤„ç†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ‹“å±•mvcæ¡†æ¶æ¶ˆæ¯è½¬æ¢å™¨</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> converters</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line"></span><br><span class="line">      log.info(<span class="string">&quot;æ‰©å±•æ¶ˆæ¯è½¬æ¢å™¨&quot;</span>);</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯è½¬åŒ–å™¨å¯¹è±¡</span></span><br><span class="line">      <span class="type">MappingJackson2HttpMessageConverter</span> <span class="variable">converter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MappingJackson2HttpMessageConverter</span>();</span><br><span class="line"><span class="comment">//è®¾ç½®å¯¹è±¡è½¬æ¢å™¨ï¼Œå¯ä»¥å°†Javaå¯¹è±¡è½¬ä¸ºjsonå­—ç¬¦ä¸²</span></span><br><span class="line">      converter.setObjectMapper(<span class="keyword">new</span> <span class="title class_">JacksonObjectMapper</span>());</span><br><span class="line"><span class="comment">//å°†æˆ‘ä»¬è‡ªå·±çš„è½¬æ¢å™¨æ”¾å…¥spring MVCæ¡†æ¶çš„å®¹å™¨ä¸­</span></span><br><span class="line">      converters.add(<span class="number">0</span>,converter);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="HttpClient"><a href="#HttpClient" class="headerlink" title="HttpClient"></a>HttpClient</h1><p>HttpClientæ˜¯Apacheçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯é«˜æ•ˆçš„ã€åŠŸèƒ½ä¸°å¯Œçš„æ”¯æŒHTTPåè®®çš„<strong>å®¢æˆ·ç«¯ç¼–ç¨‹</strong>å·¥å…·åŒ…ã€‚</p>
<p>å®ƒå…è®¸ Java ç¨‹åºå»è°ƒç”¨å¤–éƒ¨æ¥å£ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è®¿é—®ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆä¾‹å¦‚æ”¯ä»˜å®ã€å¾®ä¿¡ã€çŸ­ä¿¡å¹³å°ï¼‰</li>
<li>è°ƒç”¨åˆ«çš„é¡¹ç›® / å¾®æœåŠ¡</li>
<li>è·å–å¤–éƒ¨æ•°æ®</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents&lt;/groupId</span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient&lt;/artifactId</span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é˜¿é‡Œäº‘ossçš„ä¾èµ–é‡Œå·²ç»æœ‰è¿™ä¸ªå·¥å…·åŒ…</p>
<p>æ ¸å¿ƒAPIï¼š</p>
<ul>
<li>HttpClient</li>
<li>HttpClients</li>
<li>CloseableHttpClient</li>
<li>HttpGet</li>
<li>HttpPost</li>
</ul>
<p>å‘é€è¯·æ±‚æ­¥éª¤ï¼š</p>
<ul>
<li>åˆ›å»ºHttpClientå¯¹è±¡</li>
<li>åˆ›å»ºHttpè¯·æ±‚å¯¹è±¡</li>
<li>è°ƒç”¨HttpClientçš„executeæ–¹æ³•å‘é€è¯·æ±‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨è¿‡httpclientå‘èµ·getè¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºhttpclientå¯¹è±¡</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="comment">//åˆ›å»ºè¯·æ±‚å¯¹è±¡</span></span><br><span class="line">        <span class="type">HttpGet</span> <span class="variable">httpGet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpGet</span>(<span class="string">&quot;http://localhost:8080/user/shop/status&quot;</span>);</span><br><span class="line">        <span class="comment">//å‘é€è¯·æ±‚ç­‰å¾…å“åº”ç»“æœ</span></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpGet);</span><br><span class="line">        <span class="comment">//è·å–å“åº”ç </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">status</span> <span class="operator">=</span> response.getStatusLine().getStatusCode();</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡ç«¯å“åº”çš„çŠ¶æ€ç æ˜¯&quot;</span> + status);</span><br><span class="line">        <span class="comment">//è·å–å“åº”æ•°æ®</span></span><br><span class="line">        <span class="type">HttpEntity</span> <span class="variable">entity</span> <span class="operator">=</span> response.getEntity();</span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> EntityUtils.toString(entity);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡ç«¯è¿”å›çš„æ•°æ®æ˜¯&quot;</span>+body);</span><br><span class="line"></span><br><span class="line">        response.close();</span><br><span class="line">        httpClient.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨è¿‡httpclientå‘èµ·postè¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException, JSONException &#123;</span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(<span class="string">&quot;http://localhost:8080/admin/employee/login&quot;</span>);</span><br><span class="line">        <span class="comment">//fast json</span></span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        jsonObject.put(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">StringEntity</span> <span class="variable">entity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringEntity</span>(jsonObject.toString());</span><br><span class="line">        <span class="comment">//è¯·æ±‚æŒ‡å®šçš„ç¼–ç æ–¹å¼</span></span><br><span class="line">        entity.setContentEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//æ•°æ®æ ¼å¼</span></span><br><span class="line">        entity.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        httpPost.setEntity(entity);</span><br><span class="line">        <span class="comment">//å‘é€è¯·æ±‚</span></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpPost);</span><br><span class="line">        <span class="comment">//è§£æå“åº”ç»“æœ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">status</span> <span class="operator">=</span> response.getStatusLine().getStatusCode();</span><br><span class="line">        System.out.println(<span class="string">&quot;å“åº”ç ä¸º&quot;</span>+status);</span><br><span class="line"></span><br><span class="line">        <span class="type">HttpEntity</span> <span class="variable">entity1</span> <span class="operator">=</span> response.getEntity();</span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> EntityUtils.toString(entity1);</span><br><span class="line">        System.out.println(body);</span><br><span class="line"></span><br><span class="line">        response.close();</span><br><span class="line">        httpClient.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="Spring-Cache"><a href="#Spring-Cache" class="headerlink" title="Spring Cache"></a>Spring Cache</h1><p>Spring Cache æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®ç°äº†åŸºäºæ³¨è§£çš„ç¼“å­˜åŠŸèƒ½ï¼Œåªéœ€è¦ç®€å•åœ°åŠ ä¸€ä¸ªæ³¨è§£ï¼Œå°±èƒ½å®ç°ç¼“å­˜åŠŸèƒ½ã€‚</p>
<p>Spring Cache æä¾›äº†ä¸€å±‚æŠ½è±¡ï¼Œåº•å±‚å¯ä»¥åˆ‡æ¢ä¸åŒçš„ç¼“å­˜å®ç°ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>EHCache</li>
<li>Caffeine</li>
<li>Redis</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>æ³¨è§£</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>@EnableCaching</td>
<td>å¼€å¯ç¼“å­˜æ³¨è§£åŠŸèƒ½ï¼Œé€šå¸¸åŠ åœ¨å¯åŠ¨ç±»ä¸Š</td>
</tr>
<tr>
<td>@Cacheable</td>
<td>åœ¨æ–¹æ³•æ‰§è¡Œå‰å…ˆæŸ¥è¯¢ç¼“å­˜ä¸­æ˜¯å¦æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰æ•°æ®ï¼Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®ï¼›å¦‚æœæ²¡æœ‰ç¼“å­˜æ•°æ®ï¼Œè°ƒç”¨æ–¹æ³•å¹¶å°†æ–¹æ³•è¿”å›å€¼æ”¾åˆ°ç¼“å­˜ä¸­</td>
</tr>
<tr>
<td>@CachePut</td>
<td>å°†æ–¹æ³•çš„è¿”å›å€¼æ”¾åˆ°ç¼“å­˜ä¸­</td>
</tr>
<tr>
<td>@CacheEvict</td>
<td>å°†ä¸€æ¡æˆ–å¤šæ¡æ•°æ®ä»ç¼“å­˜ä¸­åˆ é™¤</td>
</tr>
</tbody>
</table>
</div>
<p>å…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>å¯¼å…¥Spring Cacheå’ŒRedisç›¸å…³mavenåæ ‡</p>
</li>
<li><p>åœ¨å¯åŠ¨ç±»ä¸ŠåŠ å…¥@EnableCachingæ³¨è§£ï¼Œå¼€å¯ç¼“å­˜æ³¨è§£åŠŸèƒ½</p>
</li>
<li><p>åœ¨ç”¨æˆ·ç«¯æ¥å£SetmealControllerçš„ list æ–¹æ³•ä¸ŠåŠ å…¥@Cacheableæ³¨è§£</p>
</li>
<li><p>åœ¨ç®¡ç†ç«¯æ¥å£SetmealControllerçš„ saveã€deleteã€updateã€startOrStopç­‰æ–¹æ³•ä¸ŠåŠ å…¥CacheEvictæ³¨è§£</p>
</li>
</ul>
<p>åº•å±‚åŸç†è¯´æ˜¯ä»£ç†åŸç†</p>
<p>æ“ä½œå¾ˆç®€å•ï¼</p>
<h1 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h1><p>å±€åŸŸç½‘è·å¾—ä¸€ä¸ªå…¬ç½‘ip</p>
<p>cpolar</p>
<h1 id="Spring-Task"><a href="#Spring-Task" class="headerlink" title="Spring Task"></a>Spring Task</h1><p>Spring Task æ˜¯Springæ¡†æ¶æä¾›çš„ä»»åŠ¡è°ƒåº¦å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§çº¦å®šçš„æ—¶é—´è‡ªåŠ¨æ‰§è¡ŒæŸä¸ªä»£ç é€»è¾‘</p>
<h2 id="cronè¡¨è¾¾å¼"><a href="#cronè¡¨è¾¾å¼" class="headerlink" title="cronè¡¨è¾¾å¼"></a>cronè¡¨è¾¾å¼</h2><p>cronè¡¨è¾¾å¼å…¶å®å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡cronè¡¨è¾¾å¼å¯ä»¥<strong>å®šä¹‰ä»»åŠ¡è§¦å‘çš„æ—¶é—´</strong></p>
<p>æ„æˆè§„åˆ™ï¼šåˆ†ä¸º6æˆ–7ä¸ªåŸŸï¼Œç”±ç©ºæ ¼åˆ†éš”å¼€ï¼Œæ¯ä¸ªåŸŸä»£è¡¨ä¸€ä¸ªå«ä¹‰</p>
<p>æ¯ä¸ªåŸŸçš„å«ä¹‰åˆ†åˆ«ä¸ºï¼šç§’ã€åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨ã€å¹´(å¯é€‰)</p>
<h2 id="å…¥é—¨æ¡ˆä¾‹"><a href="#å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹"></a>å…¥é—¨æ¡ˆä¾‹</h2><p>Spring Taskä½¿ç”¨æ­¥éª¤ï¼š</p>
<p>â‘ å¯¼å…¥mavenåæ ‡ spring-contextï¼ˆå·²å­˜åœ¨ï¼‰</p>
<p>â‘¡å¯åŠ¨ç±»æ·»åŠ æ³¨è§£ @EnableScheduling å¼€å¯ä»»åŠ¡è°ƒåº¦</p>
<p>â‘¢è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡ç±»</p>
<p>ä½¿ç”¨æ¡ˆä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    ** æ”¯ä»˜è¶…æ—¶è®¢å•å¤„ç†</span></span><br><span class="line"><span class="comment">    ** å¯¹äºä¸‹å•åè¶…è¿‡15åˆ†é’Ÿä»æœªæ”¯ä»˜çš„è®¢å•è‡ªåŠ¨ä¿®æ”¹çŠ¶æ€ä¸º[å·²å–æ¶ˆ]</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Scheduled(cron = &quot;0 * * * * ?&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processTimeoutOrder</span><span class="params">()</span>&#123;</span><br><span class="line">       log.info(<span class="string">&quot;å¤„ç†æ”¯ä»˜è¶…æ—¶è®¢å•ï¼š&#123;&#125;&quot;</span>, <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line"></span><br><span class="line">       <span class="type">LocalDateTime</span> <span class="variable">time</span> <span class="operator">=</span> LocalDateTime.now().plusMinutes(-<span class="number">15</span>);</span><br><span class="line">       List&lt;Orders&gt; ordersList = orderMapper.getByStatusAndOrdertimeLT(Orders.PENDING_PAYMENT, time);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(ordersList != <span class="literal">null</span> &amp;&amp; ordersList.size() &gt; <span class="number">0</span>)&#123;</span><br><span class="line">           ordersList.forEach(order -&gt; &#123;</span><br><span class="line">               order.setStatus(Orders.CANCELLED);</span><br><span class="line">               order.setCancelReason(<span class="string">&quot;æ”¯ä»˜è¶…æ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆ&quot;</span>);</span><br><span class="line">               order.setCancelTime(LocalDateTime.now());</span><br><span class="line">               orderMapper.update(order);</span><br><span class="line">           &#125;);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<link rel="stylesheet" href="/css/folder.css" type="text/css"><script src="/js/folder.js" type="text/javascript" async></script>
    </article>
    <!-- license -->
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
                <div class="nextSlogan">Next Post</div>
                <a href="/posts/79666db.html" title="æ•°æ®ç»“æ„">
                    <div class="nextTitle">æ•°æ®ç»“æ„</div>
                </a>
        </li>
        <li class="previous">
                <div class="prevSlogan">Previous Post</div>
                <a href="/posts/74add858.html" title="Gitä½¿ç”¨æŒ‡å—">
                    <div class="prevTitle">Gitä½¿ç”¨æŒ‡å—</div>
                </a>
        </li>
    </ul>
    <!-- comment -->
        <div class="post-comment">
            <!-- æ¥å¿…åŠ› City ç‰ˆå®‰è£…ä»£ç  -->

            
            
            
            <!-- utterancè¯„è®º -->

            <!-- partial('_partial/comment/changyan') -->
            <!--PCç‰ˆ-->

            
            
            
        </div>
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    <!-- Mathjax -->
</main>

                <!-- profile -->
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
        <div class="social">
                            <a href="mailto:limiese0zen@gmail.com" class="iconfont-archer email" title="email" ></a>
                <a href="//github.com/zennnj" class="iconfont-archer github" target="_blank" title="github"></a>
                <a href="https://steamcommunity.com/profiles/76561199557415174" class="iconfont-archer steam" target="_blank" title="steam"></a>

        </div>
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    <!-- ä¸è’œå­  -->
        <div class="busuanzi-container">
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
        </div>
</footer>

        </div>
        <!-- toc -->
            <div class="toc-wrapper toc-wrapper-loding" style=    top:50vh;
>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring-Framwork%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">Spring Framworkç³»ç»Ÿæ¶æ„</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MAVEN"><span class="toc-number">2.</span> <span class="toc-text">MAVEN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.</span> <span class="toc-text">ä¸‹è½½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-number">2.2.</span> <span class="toc-text">ä¾èµ–ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.1.</span> <span class="toc-text">ä¾èµ–é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92"><span class="toc-number">2.2.2.</span> <span class="toc-text">ä¾èµ–ä¼ é€’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E8%8C%83%E5%9B%B4"><span class="toc-number">2.2.3.</span> <span class="toc-text">ä¾èµ–èŒƒå›´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">2.2.4.</span> <span class="toc-text">ç”Ÿå‘½å‘¨æœŸ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94"><span class="toc-number">3.</span> <span class="toc-text">HTTPè¯·æ±‚å“åº”</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAspringboot"><span class="toc-number">3.1.</span> <span class="toc-text">åˆ›å»ºspringboot</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tomcat"><span class="toc-number">4.</span> <span class="toc-text">Tomcat</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Postman"><span class="toc-number">5.</span> <span class="toc-text">Postman</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94"><span class="toc-number">6.</span> <span class="toc-text">è¯·æ±‚å“åº”</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82"><span class="toc-number">6.1.</span> <span class="toc-text">è¯·æ±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E5%90%8D%E4%B8%8D%E4%B8%80%E8%87%B4"><span class="toc-number">6.1.1.</span> <span class="toc-text">å‚æ•°åä¸ä¸€è‡´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%9C%A8controll%E9%87%8C%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%8C%85%E8%A3%85%E7%B1%BB%E5%9E%8B-Integer%E3%80%81Long%E2%80%A6-%EF%BC%9F"><span class="toc-number">6.1.2.</span> <span class="toc-text">ä¸ºä»€ä¹ˆåœ¨controllé‡Œæ¨èä½¿ç”¨åŒ…è£…ç±»å‹(Integerã€Longâ€¦)ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%8F%82%E6%95%B0"><span class="toc-number">6.1.3.</span> <span class="toc-text">å®ä½“å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%AE%9E%E4%BD%93"><span class="toc-number">6.1.4.</span> <span class="toc-text">å¤æ‚å®ä½“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON%E5%8F%82%E6%95%B0"><span class="toc-number">6.1.5.</span> <span class="toc-text">JSONå‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-number">6.1.5.1.</span> <span class="toc-text">å°è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E5%B1%9E%E6%80%A7"><span class="toc-number">6.1.5.2.</span> <span class="toc-text">æ‹·è´å±æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0"><span class="toc-number">6.1.6.</span> <span class="toc-text">è·¯å¾„å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94"><span class="toc-number">6.2.</span> <span class="toc-text">å“åº”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C"><span class="toc-number">6.2.1.</span> <span class="toc-text">ç»Ÿä¸€å“åº”ç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RequestMapping"><span class="toc-number">6.3.</span> <span class="toc-text">@RequestMapping</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6"><span class="toc-number">7.</span> <span class="toc-text">åˆ†å±‚è§£è€¦</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">7.1.</span> <span class="toc-text">ä¸‰å±‚æ¶æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%85%E5%88%86%E8%A7%A3%E8%80%A6"><span class="toc-number">7.2.</span> <span class="toc-text">å……åˆ†è§£è€¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IoC%E6%A1%88%E4%BE%8B"><span class="toc-number">7.2.1.</span> <span class="toc-text">IoCæ¡ˆä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Component%E7%9A%84%E8%A1%8D%E7%94%9F%E6%B3%A8%E8%A7%A3"><span class="toc-number">7.2.1.1.</span> <span class="toc-text">@Componentçš„è¡ç”Ÿæ³¨è§£</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DI%E6%A1%88%E4%BE%8B"><span class="toc-number">7.2.2.</span> <span class="toc-text">DIæ¡ˆä¾‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83"><span class="toc-number">8.</span> <span class="toc-text">å¼€å‘è§„èŒƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#REST"><span class="toc-number">8.1.</span> <span class="toc-text">REST</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C-1"><span class="toc-number">8.2.</span> <span class="toc-text">ç»Ÿä¸€å“åº”ç»“æœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-number">8.3.</span> <span class="toc-text">å¼€å‘æµç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3"><span class="toc-number">8.4.</span> <span class="toc-text">å¼€å‘æ–‡æ¡£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swagger"><span class="toc-number">8.4.1.</span> <span class="toc-text">Swagger</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">8.5.</span> <span class="toc-text">é…ç½®æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PageHelper"><span class="toc-number">9.</span> <span class="toc-text">PageHelper</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">10.</span> <span class="toc-text">æ–‡ä»¶ä¸Šä¼ </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91OSS"><span class="toc-number">10.1.</span> <span class="toc-text">é˜¿é‡Œäº‘OSS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE%E5%8C%96-Utils"><span class="toc-number">11.</span> <span class="toc-text">å‚æ•°é…ç½®åŒ– Utils</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">11.1.</span> <span class="toc-text">ymlé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ConfigurationProperties"><span class="toc-number">11.2.</span> <span class="toc-text">@ConfigurationProperties</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%A0%A1%E9%AA%8C"><span class="toc-number">12.</span> <span class="toc-text">ç™»å½•æ ¡éªŒ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E5%AD%98%E5%82%A8%E5%AF%86%E7%A0%81"><span class="toc-number">12.1.</span> <span class="toc-text">åŠ å¯†å­˜å‚¨å¯†ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E6%8B%A6%E6%88%AA%E6%8A%80%E6%9C%AF%E4%BC%9A%E8%AF%9D%E8%B7%9F%E8%B8%AA%E6%8A%80%E6%9C%AF"><span class="toc-number">12.2.</span> <span class="toc-text">ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JWT%E4%BB%A4%E7%89%8C"><span class="toc-number">12.2.1.</span> <span class="toc-text">JWTä»¤ç‰Œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet%E8%A7%84%E8%8C%83%E4%B8%AD%E7%9A%84Filter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">12.3.</span> <span class="toc-text">Servletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E6%8F%90%E4%BE%9B%E7%9A%84interceptor%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">12.4.</span> <span class="toc-text">Springæä¾›çš„interceptoræ‹¦æˆªå™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter-amp-Interceptor-amp-AOP"><span class="toc-number">12.5.</span> <span class="toc-text">Filter &amp; Interceptor &amp; AOP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">13.</span> <span class="toc-text">å¼‚å¸¸å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">13.1.</span> <span class="toc-text">å…¨å±€å¼‚å¸¸å¤„ç†å™¨</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1-amp-AOP"><span class="toc-number">14.</span> <span class="toc-text">äº‹åŠ¡&amp;AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">14.1.</span> <span class="toc-text">Springäº‹åŠ¡ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Transactional%E6%B3%A8%E8%A7%A3"><span class="toc-number">14.1.1.</span> <span class="toc-text">Transactionalæ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rollbackFor"><span class="toc-number">14.1.2.</span> <span class="toc-text">rollbackFor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#propagation"><span class="toc-number">14.1.3.</span> <span class="toc-text">propagation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AOP"><span class="toc-number">14.2.</span> <span class="toc-text">AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JoinPoint"><span class="toc-number">14.2.1.</span> <span class="toc-text">JoinPoint</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Advice"><span class="toc-number">14.3.</span> <span class="toc-text">Advice</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PointCut"><span class="toc-number">14.4.</span> <span class="toc-text">PointCut</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#execution-%E5%88%87%E5%85%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">14.4.1.</span> <span class="toc-text">execution åˆ‡å…¥è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#annotation-%E5%88%87%E5%85%A5%E7%82%B9%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E5%8C%B9%E9%85%8D%EF%BC%89"><span class="toc-number">14.4.2.</span> <span class="toc-text">@annotation åˆ‡å…¥ç‚¹ï¼ˆåŸºäºæ³¨è§£åŒ¹é…ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Aspect"><span class="toc-number">14.5.</span> <span class="toc-text">Aspect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Target"><span class="toc-number">14.6.</span> <span class="toc-text">Target</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">14.6.1.</span> <span class="toc-text">é€šçŸ¥ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PointCut-1"><span class="toc-number">14.6.2.</span> <span class="toc-text">@PointCut</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Order"><span class="toc-number">14.7.</span> <span class="toc-text">@Order</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%89%A9%E5%B1%95Spring-MVC%E7%9A%84%E6%B6%88%E6%81%AF%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="toc-number">15.</span> <span class="toc-text">æ‰©å±•Spring MVCçš„æ¶ˆæ¯è½¬æ¢å™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HttpClient"><span class="toc-number">16.</span> <span class="toc-text">HttpClient</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring-Cache"><span class="toc-number">17.</span> <span class="toc-text">Spring Cache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F"><span class="toc-number">18.</span> <span class="toc-text">å†…ç½‘ç©¿é€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring-Task"><span class="toc-number">19.</span> <span class="toc-text">Spring Task</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#cron%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">19.1.</span> <span class="toc-text">cronè¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B"><span class="toc-number">19.2.</span> <span class="toc-text">å…¥é—¨æ¡ˆä¾‹</span></a></li></ol></li></ol>
            </div>
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- åœ¨ ejs ä¸­å°† archive æŒ‰ç…§æ—¶é—´æ’åº -->
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    <div class="total-and-search">
        <div class="total-archive">
        Total : 31
        </div>
        <!-- search  -->
    </div>
    <div class="post-archive">
            <div class="archive-year"> 2025 </div>
            <ul class="year-list">
        <li class="archive-post-item">
            <span class="archive-post-date">12/03</span>
            <a class="archive-post-title" href="/posts/a477be03.html">nginx</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/28</span>
            <a class="archive-post-title" href="/posts/b5385ca.html">temp</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/27</span>
            <a class="archive-post-title" href="/posts/4ac3e81c.html">æš‘å‡å°ç»“</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/24</span>
            <a class="archive-post-title" href="/posts/4618cb0a.html">å¾®ä¿¡å°ç¨‹åº</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">10/18</span>
            <a class="archive-post-title" href="/posts/f5f9fa9b.html">Docker</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">10/16</span>
            <a class="archive-post-title" href="/posts/9a7d5a13.html">Kafka</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/28</span>
            <a class="archive-post-title" href="/posts/26c51008.html">ç®€å•shellè„šæœ¬</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">05/10</span>
            <a class="archive-post-title" href="/posts/e6495409.html">å¯’å‡æ¸¸ä¹å°ç»“</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/posts/4ee3286d.html">Mavenæ„å»ºé—®é¢˜</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span>
            <a class="archive-post-title" href="/posts/bae4ff13.html">Redis</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">04/22</span>
            <a class="archive-post-title" href="/posts/da3e1361.html">Mybatis</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span>
            <a class="archive-post-title" href="/posts/5751eea2.html">C++</a>
        </li>
                </ul>
            <div class="archive-year"> 2024 </div>
            <ul class="year-list">
        <li class="archive-post-item">
            <span class="archive-post-date">12/12</span>
            <a class="archive-post-title" href="/posts/79666db.html">æ•°æ®ç»“æ„</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/10</span>
            <a class="archive-post-title" href="/posts/a541262a.html">Spring Boot</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/10</span>
            <a class="archive-post-title" href="/posts/74add858.html">Gitä½¿ç”¨æŒ‡å—</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span>
            <a class="archive-post-title" href="/posts/12634.html">æœ¬ç«™ä½¿ç”¨çš„æ’ä»¶</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span>
            <a class="archive-post-title" href="/posts/50460.html">åšé¢˜è®°å½•ä¸²</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">10/26</span>
            <a class="archive-post-title" href="/posts/56743.html">unity</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">10/25</span>
            <a class="archive-post-title" href="/posts/59760.html">C#</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">10/19</span>
            <a class="archive-post-title" href="/posts/3629.html">ç¼–ç¨‹ç»†èŠ‚è®°å½•</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">10/13</span>
            <a class="archive-post-title" href="/posts/58846.html">Javaå¤šçº¿ç¨‹</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/28</span>
            <a class="archive-post-title" href="/posts/17374.html">JVM</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/26</span>
            <a class="archive-post-title" href="/posts/9977.html">MySQL</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/11</span>
            <a class="archive-post-title" href="/posts/40121.html">JAVA</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/11</span>
            <a class="archive-post-title" href="/posts/41682.html">è®¾è®¡æ¨¡å¼</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/11</span>
            <a class="archive-post-title" href="/posts/7165.html">Githubè®¿é—®è¿æ¥å¤±è´¥é—®é¢˜</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/11</span>
            <a class="archive-post-title" href="/posts/28758.html">è®¡ç®—æœºç½‘ç»œ</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/10</span>
            <a class="archive-post-title" href="/posts/15691.html">Linux</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">09/10</span>
            <a class="archive-post-title" href="/posts/31602.html">åç«¯</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">08/31</span>
            <a class="archive-post-title" href="/posts/12966.html">ä¸Šå­¦å‰çš„é—è¨€</a>
        </li>
        <li class="archive-post-item">
            <span class="archive-post-date">07/24</span>
            <a class="archive-post-title" href="/posts/37559.html">ä¸ªäººç”¨ä½¿ç”¨æŒ‡å—</a>
        </li>
            </ul>
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
            <span class="sidebar-tag-name" data-tags="learn">
                <span class="iconfont-archer">&#xe606;</span>
                learn
            </span>
            <span class="sidebar-tag-name" data-tags="problems">
                <span class="iconfont-archer">&#xe606;</span>
                problems
            </span>
            <span class="sidebar-tag-name" data-tags="ç¢ç¢å¿µ">
                <span class="iconfont-archer">&#xe606;</span>
                ç¢ç¢å¿µ
            </span>
            <span class="sidebar-tag-name" data-tags="practice">
                <span class="iconfont-archer">&#xe606;</span>
                practice
            </span>
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        ç¼ºå¤±æ¨¡å—ï¼Œè¯·å‚è€ƒä¸»é¢˜æ–‡æ¡£è¿›è¡Œå®‰è£…é…ç½®ï¼šhttps://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
        <span class="sidebar-category-name" data-categories="unity">
            <span class="iconfont-archer">&#xe60a;</span>
            unity
        </span>
        <span class="sidebar-category-name" data-categories="è¯­è¨€æ‹“å±•">
            <span class="iconfont-archer">&#xe60a;</span>
            è¯­è¨€æ‹“å±•
        </span>
        <span class="sidebar-category-name" data-categories="ç³»ç»ŸæŠ€æœ¯">
            <span class="iconfont-archer">&#xe60a;</span>
            ç³»ç»ŸæŠ€æœ¯
        </span>
        <span class="sidebar-category-name" data-categories="æ‚é¡¹">
            <span class="iconfont-archer">&#xe60a;</span>
            æ‚é¡¹
        </span>
        <span class="sidebar-category-name" data-categories="åç«¯">
            <span class="iconfont-archer">&#xe60a;</span>
            åç«¯
        </span>
        <span class="sidebar-category-name" data-categories="æ•°æ®åº“">
            <span class="iconfont-archer">&#xe60a;</span>
            æ•°æ®åº“
        </span>
        <span class="sidebar-category-name" data-categories="chat">
            <span class="iconfont-archer">&#xe60a;</span>
            chat
        </span>
        <span class="sidebar-category-name" data-categories="ç®—æ³•">
            <span class="iconfont-archer">&#xe60a;</span>
            ç®—æ³•
        </span>
        <span class="sidebar-category-name" data-categories="secrets">
            <span class="iconfont-archer">&#xe60a;</span>
            secrets
        </span>
        <span class="sidebar-category-name" data-categories="å‰ç«¯">
            <span class="iconfont-archer">&#xe60a;</span>
            å‰ç«¯
        </span>
        <span class="sidebar-category-name" data-categories="æŒ‡å—">
            <span class="iconfont-archer">&#xe60a;</span>
            æŒ‡å—
        </span>
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMetaRoot = "/"
    if (siteMetaRoot === "undefined") {
        siteMetaRoot = '/'
    }
    var siteMeta = {
        url: "http://example.com",
        root: siteMetaRoot,
        author: ""
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->

        <!-- main func -->
        <script src="/scripts/main.js"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.umd.js" onload="window.Fancybox.bind('[data-fancybox]')" defer></script>
        <!-- algolia -->
        <!-- busuanzi -->
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        <!-- async load share.js -->
            <script src="/scripts/share.js" async></script>
        <!-- mermaid -->
    <!-- hexo injector body_end start --><script src="https://fastly.jsdelivr.net/npm/hexo-tag-common@0.2.0/js/index.js"></script><!-- hexo injector body_end end --></body>
</html>
